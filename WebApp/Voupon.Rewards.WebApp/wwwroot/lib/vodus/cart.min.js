(function(n){function t(){var n={};const i={Days:1,Date:2,DigitalRedeption:4,Delivery:5},t=3;return n.prop={vodusCartLocalstorageName:"vodus_cart",logLabel:"Vodus cart => ",setup:{cartCounterClass:""}},n.init=function(t){try{return console.log(n.prop.logLabel+"Initializing vodus cart..."),n.prop.setup.cartCounterClass=t.cartCounterClass,!0}catch(i){return console.log(n.prop.logLabel+"Fail to initilize vodus cart"),!1}},n.isLocalStorageAvailable=function(){try{var t="test";return localStorage.setItem(t,t),localStorage.removeItem(t),console.log(n.prop.logLabel+"Localstorage available"),!0}catch(i){return console.log(n.prop.logLabel+"Localstorage not supported"),!1}},n.updateCartCounter=function(){var i=readCookie("Rewards.Account.Email"),t;i!=null&&i!=""?$.ajax({url:"/cart/get-cart-products-count",method:"GET","async":!0,success:function(n){n.successful?n.data!=null&&$(".cartProductCount").html(n.data):$(".cartProductCount").html(0)},error:function(){$(".cartProductCount").html(0)}}):(t=localStorage.getItem(n.prop.vodusCartLocalstorageName),t==null?$(".cartProductCount").html(0):$(".cartProductCount").html(JSON.parse(t).length))},n.updateItemPage=function(t,i,r,u){var f=localStorage.getItem(n.prop.vodusCartLocalstorageName),e;f==null?console.log("Item not in the cart yet"):(e=f.findIndex(function(n){return n.id==t}),e>-1&&(f[e]!=null&&($("#"+r).val(f[e].orderQuantity),$("#"+u).text(f[e].totalPrice),f[e].additionalDiscount!=null&&$("#additionalDiscount_"+f[e].additionalDiscount.id).prop("checked",!0)),$("#"+i).text("Update cart")))},n.haveDeliveryItems=function(){var t=localStorage.getItem(n.prop.vodusCartLocalstorageName),r;if(t==null){console.log("Item not in the cart yet");return}return(r=JSON.parse(t).filter(n=>n.dealExpiration!=null&&n.dealExpiration.type===i.Delivery),r.length==0)?!1:!0},n.populateCart=function(){var r,o,u;if($.ajax({url:"/cart/get-cart-products",method:"GET","async":!1,success:function(t){t.successful?t.data!=null&&(r=t.data,localStorage.setItem(n.prop.vodusCartLocalstorageName,JSON.stringify(r))):toastr.error(t.message)},error:function(n){toastr.error(n)}}),o=0,r==null)return console.log("No items in cart yet"),o;var e=[],h=[],s=[],c=[];for(let n=0;n<r.length;n++)r[n].id==0?e[r[n].externalShopId]||(c.push(r[n].externalShopId),s.push({id:r[n].externalShopId,name:r[n].merchant.name,productList:r.filter(t=>t.externalShopId===r[n].externalShopId)}),e[r[n].externalShopId]=1,h[r[n].merchant.name]=1):e[r[n].merchant.id]||(c.push(r[n].merchant.id),s.push({id:r[n].merchant.id,name:r[n].merchant.name,productList:r.filter(t=>t.merchant!=null&&t.merchant.id===r[n].merchant.id)}),e[r[n].merchant.id]=1,h[r[n].merchant.name]=1);var f="",l=0,a=0,v=0,y=0,i=1;return $(s).each(function(){var n=$("#cartMerchantTemplate").clone(),r,u;r=this.name;u=this.productList[0];n.find(".cartItemMerchant");n.find(".cartItemShop").html(r);n.find(".cartItemShop").attr("href","/shop/"+(u.merchant.externalId==null?u.merchant.id:"0?s="+u.merchant.externalId+"&t="+u.merchant.typeId));n.find(".checkbox-cart").attr("merchant",r);n.find(".checkbox-cart").attr("onclick","selectAll('"+r+"')");f+=n.html();$(this.productList).each(function(){var n=$("#cartRowTemplate").clone(),e,s,u;n.find(".cart-item-row").attr("id",this.id);this.productId==0?n.find(".cart-item-row").attr("productid",this.productId):n.find(".cart-item-row").attr("productid",this.productId);this.externalId!=null&&this.externalId!=""&&(n.find(".cart-item-row").attr("externalId",this.externalId),n.find(".checkbox-cart").attr("data-externalId",this.externalId));(new Date-new Date(this.addedAt))/864e5<1&&n.find(".checkbox-cart").attr("checked","checked");n.find(".cart-item-row").attr("externalItemId",this.externalItemId);n.find(".cart-item-row").attr("externalShopId",this.externalShopId);n.find(".cart-item-row").attr("externalTypeId",this.externalTypeId);n.find(".cart-item-row").attr("productPrice",this.price);n.find(".cart-item-row").attr("externalVariationText",this.variationText);n.find(".cart-item-row").attr("variationId",this.variationId);n.find(".checkbox-cart").attr("id",this.id);n.find(".checkbox-cart").attr("productid",this.productId);n.find(".checkbox-cart").attr("variationId",this.variationId);n.find(".checkbox-cart").attr("merchant",r);n.find(".checkbox-cart").attr("onclick","selectProduct('"+r+"')");n.find(".img-responsive").attr("src",this.productCartPreviewSmallImage);this.id==0?n.find(".cartItemTitle").attr("href","/product/0?i="+this.externalItemId+"&s="+this.externalShopId+"&t="+this.externalTypeId):n.find(".cartItemTitle").attr("href","/product/"+this.productId);this.cartProductType!=1&&(n.find(".cart-item-row").addClass("deleted-product"),n.find(".cart-variations-column").addClass("deleted-product"),n.find(".cart-item-title").addClass("deleted-product"),n.find("#orderQuantity_1").prop("disabled",!0),n.find(".cartItemPrice").parent().hide());this.isVariationProduct?(n.find(".cart-item-Variation").html(this.variationText),n.find(".cart-variations-column").show()):this.id==0&&this.variationText!==null&&this.variationText!=""&&(n.find(".cart-item-Variation").html(this.variationText),n.find(".cart-variations-column").show());n.find(".cart-item-title").html(this.title);n.find(".cart-merchat-shop").html(this.merchant.name);this.additionalDiscount!=null&&n.find(".cart-vpoints").attr("vpoints-discount-type",this.additionalDiscount.type);this.typeId!=1?(e=0,this.additionalDiscount!=null?(n.find(".cart-vpoints").attr("vpoints-discount",parseInt(this.additionalDiscount.value)),n.find(".cart-vpoints").attr("vPoints-multiplier",this.additionalDiscount.vPointsMultiplier)):n.find(".cart-vpoints").attr("vpoints-discount",0),this.additionalDiscount!=null&&(e=this.additionalDiscount.type==1?this.discountedPrice-(this.discountedPrice-this.discountedPrice*parseInt(this.additionalDiscount.value)/100):parseInt(this.additionalDiscount.value)+this.discountedPrice),this.price==this.discountedPrice-e?(n.find(".cartItemOriPrice").hide(),n.find(".cart-item-discount").hide()):n.find(".cartItemOriPrice").html("RM "+this.discountedPrice.toFixed(2)),this.discountedPrice-e>0?n.find(".cartItemPrice").html("RM "+(this.discountedPrice-e).toFixed(2)):n.find(".cartItemPrice").html("RM "+0..toFixed(2)),Math.ceil(e*100/this.price)<100?n.find(".cart-item-discount").html(Math.ceil(e*100/this.price)+" % Off"):n.find(".cart-item-discount").html("100 % Off"),e==0&&(n.find(".cartItemOriPrice").hide(),n.find(".cart-item-discount").hide())):(n.find(".cartItemOriPrice").hide(),n.find(".cartItemPrice").html("RM "+this.actualPriceForVpoints.toFixed(2)),n.find(".cart-item-discount").html(this.discountRate+" % Off"));n.find(".btn-number").attr("data-field","quant["+i+"]");n.find("button[data-field='quant["+i+"]']").attr("data-field","quant["+i+"]");n.find("#orderQuantity_1").attr("name","quant["+i+"]");n.find("#orderQuantity_1").attr("id-number",i);this.orderQuantity<this.availableQuantity?n.find("#orderQuantity_1").attr("value",this.orderQuantity):n.find("#orderQuantity_1").attr("value",this.availableQuantity);n.find("#orderQuantity_1").attr("id-number",i);n.find("#orderQuantity_1").attr("max",this.availableQuantity);n.find("#orderQuantity_1").attr("id","orderQuantity_"+i);n.find(".btn-number").attr("data-field","quant["+i+"]");this.additionalDiscount!=null?this.additionalDiscount.type==1?(s=Math.ceil(this.orderQuantity/2),n.find("#Vpoints_1").html(parseInt(this.additionalDiscount!=null?this.additionalDiscount.pointsRequired:0)*s),n.find("#Vpoints_1").attr("id","Vpoints_"+i)):(n.find("#Vpoints_1").html(parseInt(this.additionalDiscount!=null?this.additionalDiscount.pointsRequired:0)*this.orderQuantity),n.find("#Vpoints_1").attr("id","Vpoints_"+i)):(n.find("#Vpoints_1").html(parseInt(this.additionalDiscount!=null?this.additionalDiscount.pointsRequired:0)*this.orderQuantity),n.find("#Vpoints_1").attr("id","Vpoints_"+i));this.typeId!=1?this.additionalDiscount!=null?this.additionalDiscount.type==1?(u=((this.discountedPrice-((this.additionalDiscount!=null?this.additionalDiscount.value:0)*this.discountedPrice/100).toFixed(2))*this.orderQuantity).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i).attr("data-subtotal",this.subTotal).attr("data-single-subtotal",(this.subTotal/this.orderQuantity).toFixed(2)),f+=n.html()):this.additionalDiscount.type==2?(u=((this.discountedPrice-(this.additionalDiscount!=null?this.additionalDiscount.value:0))*this.orderQuantity).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i).attr("data-single-subtotal",(this.subTotal/this.orderQuantity).toFixed(2)),f+=n.html()):(u=((this.discountedPrice-(this.additionalDiscount!=null?this.additionalDiscount.value:0))*this.orderQuantity).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i).attr("data-single-subtotal",(this.subTotal/this.orderQuantity).toFixed(2)),f+=n.html()):(u=((this.discountedPrice-(this.additionalDiscount!=null?this.additionalDiscount.value:0))*this.orderQuantity).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i),this.cartProductType==4?f+='<div class="row" style="float:right"><span class="badge badge-secondary">Unavailable<\/span><\/div>':this.cartProductType==3?f+='<div class="row" style="float:right"><span class="badge badge-secondary">Variation Changed Unavailable<\/span><\/div>':this.cartProductType==2&&(f+='<div class="row" style="float:right"><span class="badge badge-secondary">Sold Out<\/span><\/div>'),f+=n.html()):this.additionalDiscount!=null?this.additionalDiscount.type==1?(u=((this.actualPriceForVpoints-((this.additionalDiscount!=null?this.additionalDiscount.value:0)*this.actualPriceForVpoints/100).toFixed(2))*Math.ceil(this.orderQuantity/t)).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i).attr("data-single-subtotal",this.subTotal/this.orderQuantity),f+=n.html()):this.additionalDiscount.type==2?(u=((this.actualPriceForVpoints-(this.additionalDiscount!=null?this.additionalDiscount.value:0))*Math.ceil(this.orderQuantity/t)).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i).attr("data-single-subtotal",this.subTotal/this.orderQuantity),f+=n.html()):(u=((this.actualPriceForVpoints-(this.additionalDiscount!=null?this.additionalDiscount.value:0))*Math.ceil(this.orderQuantity/t)).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i).attr("data-single-subtotal",this.subTotal/this.orderQuantity),f+=n.html()):(u=((this.actualPriceForVpoints-(this.additionalDiscount!=null?this.additionalDiscount.value:0))*Math.ceil(this.orderQuantity/t)).toFixed(2),u<0&&(u=0),n.find("#cart_nett_price_1").html("RM "+u),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i),n.find("#cart_nett_price_1").attr("id","cart_nett_price_"+i).attr("data-single-subtotal",this.subTotal/this.orderQuantity),f+=n.html());o++;this.cartProductType==1&&(l+=parseFloat(parseFloat(this.subTotal).toFixed(2)),a+=parseInt(this.additionalDiscount!=null?this.additionalDiscount.pointsRequired:0)*Math.ceil(this.orderQuantity/t),v+=parseFloat(this.additionalDiscount!=null?this.subTotal-this.totalPrice:0),y+=parseInt(this.orderQuantity));i++})}),$("#cartItems").html(f),f==""&&$(".empty-cart").show(),updateOrderSummary(),bindCartProductsActions(),$(".removeFromCart").click(function(){var i=$(this).closest(".cart-item-row").attr("productid"),r=$(this).closest(".cart-item-row").attr("variationid"),u=$(this).closest(".cart-item-row").attr("id"),t=$(this).closest(".cart-item-row").attr("externalId");$(this).closest(".cart-item-row").remove();t!=null&&t!=""?n.removeExternalCartItemById(t):n.removeCartItemByIdAndVariationId(i,r,u);$("#cartItems").html()==""&&$(".empty-cart").show()}),r},n.addToCart=function(t,i){var u,a,b,v,o;console.log("New cart object----");console.log(t);var p=readCookie("Rewards.Account.Email"),w=p!=null&&p!=""?!0:!1,y=localStorage.getItem(n.prop.vodusCartLocalstorageName);if(y==null?(u=[],t.addedAt=(new Date).toString(),u.push(t),localStorage.setItem(n.prop.vodusCartLocalstorageName,JSON.stringify(u))):(u=[],y.length==0?(u.push(t),localStorage.setItem(n.prop.vodusCartLocalstorageName,JSON.stringify(u))):(a=!1,b=JSON.parse(y),$(b).each(function(){this.productId==0?this.externalItemId==t.externalItemId&&this.variationText==t.variationText?(this.orderQuantity=t.orderQuantity,this.subTotal=t.subTotal,this.totalPrice=t.totalPrice,t.additionalDiscount!=null&&(this.additionalDiscount=t.additionalDiscount),a=!0,u.push(this)):u.push(this):this.productId==t.productId&&this.variationId==t.variationId?(this.orderQuantity=t.orderQuantity,this.subTotal=t.subTotal,this.totalPrice=t.totalPrice,t.additionalDiscount!=null&&(this.additionalDiscount=t.additionalDiscount),a=!0,u.push(this)):u.push(this)}),a||u.push(t),localStorage.setItem(n.prop.vodusCartLocalstorageName,JSON.stringify(u)))),i){$("#addedToCartPriceTable").show();$("#addedToCartThumbnail").attr("src",t.ProductCartPreviewSmallImage);$("#addedToCartProductName").html(t.title);$("#addedToCartMerchantName").html(t.merchant.name);$("#addedToCartItems").html(u.length);var f=0,s="",h="",r=0,e=0,c=0,l=0;$(u).each(function(){this.id==t.id&&(t.typeId==1?this.additionalDiscount!=null&&(this.additionalDiscount.type==1?(f=this.additionalDiscount.pointsRequired*t.orderQuantity,r=((t.actualPriceForVpoints.toFixed(2)*t.orderQuantity).toFixed(2)*(this.additionalDiscount.value/100)).toFixed(2),s=this.additionalDiscount.name,vPointsMultiplier=this.additionalDiscount.vPointsMultiplier,vPointsMultiplierCap=this.additionalDiscount.vPointsMultiplierCap,h="(RM"+r+")",l=t.actualPriceForVpoints.toFixed(2),c=(t.actualPriceForVpoints.toFixed(2)*t.orderQuantity).toFixed(2),e=((t.actualPriceForVpoints.toFixed(2)*t.orderQuantity).toFixed(2)-r).toFixed(2)):this.additionalDiscount.type==2?(f=this.additionalDiscount.pointsRequired*t.orderQuantity,r=(this.additionalDiscount.value*t.orderQuantity).toFixed(2),s=this.additionalDiscount.name,vPointsMultiplier=this.additionalDiscount.vPointsMultiplier,vPointsMultiplierCap=this.additionalDiscount.vPointsMultiplierCap,h="(RM"+r+")",l=t.actualPriceForVpoints.toFixed(2),c=(t.actualPriceForVpoints.toFixed(2)*t.orderQuantity).toFixed(2),e=((t.actualPriceForVpoints.toFixed(2)*t.orderQuantity).toFixed(2)-r).toFixed(2)):(f=this.additionalDiscount.pointsRequired*t.orderQuantity,r=(this.additionalDiscount.value*t.orderQuantity).toFixed(2),s=this.additionalDiscount.name,vPointsMultiplier=this.additionalDiscount.vPointsMultiplier,vPointsMultiplierCap=this.additionalDiscount.vPointsMultiplierCap,h="(RM"+r+")",l=t.actualPriceForVpoints.toFixed(2),c=(t.actualPriceForVpoints.toFixed(2)*t.orderQuantity).toFixed(2),e=((t.actualPriceForVpoints.toFixed(2)*t.orderQuantity).toFixed(2)-r).toFixed(2))):t.typeId==2&&(console.log(t.discountedPrice),this.additionalDiscount!=null&&(this.additionalDiscount.type==1?(f=this.additionalDiscount.pointsRequired*t.orderQuantity,r=((t.discountedPrice*t.orderQuantity).toFixed(2)*(this.additionalDiscount.value/100)).toFixed(2),s=this.additionalDiscount.name,vPointsMultiplier=this.additionalDiscount.vPointsMultiplier,vPointsMultiplierCap=this.additionalDiscount.vPointsMultiplierCap,h="(RM"+r+")",l=t.discountedPrice,c=(t.discountedPrice*t.orderQuantity).toFixed(2),e=((t.discountedPrice*t.orderQuantity).toFixed(2)-r).toFixed(2)):this.additionalDiscount.type==2?(f=this.additionalDiscount.pointsRequired*t.orderQuantity,r=(this.additionalDiscount.value*t.orderQuantity).toFixed(2),s=this.additionalDiscount.name,vPointsMultiplier=this.additionalDiscount.vPointsMultiplier,vPointsMultiplierCap=this.additionalDiscount.vPointsMultiplierCap,h="(RM"+r+")",l=t.discountedPrice,c=(t.discountedPrice*t.orderQuantity).toFixed(2),e=((t.discountedPrice*t.orderQuantity).toFixed(2)-r).toFixed(2)):(f=this.additionalDiscount.pointsRequired*t.orderQuantity,r=(this.additionalDiscount.value*t.orderQuantity).toFixed(2),s=this.additionalDiscount.name,vPointsMultiplier=this.additionalDiscount.vPointsMultiplier,vPointsMultiplierCap=this.additionalDiscount.vPointsMultiplierCap,h="(RM"+r+")",l=t.discountedPrice,c=(t.discountedPrice*t.orderQuantity).toFixed(2),e=((t.discountedPrice*t.orderQuantity).toFixed(2)-r).toFixed(2)))))})}i&&($("#addedToCartPriceTotalPoints").html(f),$("#addedToCartPriceNetPrice").html("RM"+l),$("#addedToCartPriceQuantity").html(t.orderQuantity),$("#addedToCartPriceSubtotal").html("RM"+c),$("#addedToCartPriceDiscount").html(s),$("#addedToCartSubDiscount").html(h),e>0?$("#addedToCartPriceTotalPrice").html("RM"+e):$("#addedToCartPriceTotalPrice").html("RM"+0..toFixed(2)),$("#addedToCartPriceTotalPoints").html(f),$("#addedToCartModal").modal("show"));t.additionalDiscount!=null?(console.log("Discount  avaliable"),v={Type:t.additionalDiscount.type,Id:t.additionalDiscount.id,Value:t.additionalDiscount.value,PointsRequired:t.additionalDiscount.pointsRequired,Name:t.additionalDiscount.name,vPointsMultiplier:t.additionalDiscount.vPointsMultiplier,vPointsMultiplierCap:t.additionalDiscount.vPointsMultiplierCap},console.log(v),console.log(t)):(v=null,console.log("Discount not avaliable"));console.log("Product added to cart");o={Id:t.id,ProductId:t.productId,VariationId:t.variationId,IsVariationProduct:t.isVariationProduct,CartProductType:t.cartProductType,VariationText:t.variationText,TypeId:t.typeId,Title:t.title,Merchant:{Id:t.merchant.id,Name:t.merchant.name},Price:t.price,DiscountedPrice:t.discountedPrice,DiscountRate:t.discountRate,ProductCartPreviewSmallImage:t.ProductCartPreviewSmallImage,SubTotal:t.subTotal,TotalPrice:t.totalPrice,OrderQuantity:t.orderQuantity,PointsRequired:t.pointsRequired,AdditionalDiscount:v};t.dealExpiration!=null&&(o.DealExpiration={Id:t.dealExpiration.id,Name:t.dealExpiration.name,Type:t.dealExpiration.type,TotalValidDays:t.dealExpiration.totalValidDays,StartDate:t.dealExpiration.startDate,ExpiredDate:t.dealExpiration.expiredDate});t.externalItemId!=null&&t.externalItemId!=""?(o.externalItemId=t.externalItemId,o.externalShopId=t.externalShopId,o.externalTypeId=t.externalTypeId,t.variationText!=null&&t.variationText!=""&&(o.variationText=t.variationText),w&&$.ajax({url:"/cart/add-to-cart-external",method:"POST",data:o,"async":!1,dataType:"json",success:function(n){n.successful?n.data!=null:toastr.error(n.message)},error:function(n){toastr.error(n)}}),n.updateCartCounter()):(w&&$.ajax({url:"/cart/add-to-cart",method:"POST",data:o,"async":!1,dataType:"json",success:function(n){n.successful?n.data!=null&&console.log(n.data):toastr.error(n.message)},error:function(n){toastr.error(n)}}),n.updateCartCounter())},n.removeCartItemByIdAndVariationId=function(t,i,r){$.ajax({url:"/cart/delete-from-cart",method:"POST",data:{cartProductId:r},"async":!1,dataType:"json",success:function(n){n.successful?n.data!=null&&console.log(n.data):toastr.error(n.message)},error:function(n){toastr.error(n)}});n.populateCart();n.updateCartCounter()},n.removeExternalCartItemById=function(t){$.ajax({url:"/cart/delete-from-cart-external",method:"POST",data:{id:t},"async":!1,dataType:"json",success:function(n){n.successful?n.data!=null&&console.log(n.data):toastr.error(n.message)},error:function(n){toastr.error(n)}});n.populateCart();n.updateCartCounter()},n.removeCartItemById=function(t){var i=localStorage.getItem(n.prop.vodusCartLocalstorageName);if(i!=null){var r=[],u=JSON.parse(i);$(u).each(function(){this.id!=t&&r.push(this)});localStorage.setItem(n.prop.vodusCartLocalstorageName,JSON.stringify(r))}n.populateCart();n.updateCartCounter();populateCartProductCounter()},n.getCartJson=function(){var t=localStorage.getItem(n.prop.vodusCartLocalstorageName);if(t==null){console.log("Item not in the cart yet");return}return t},n.syncLocalCartItems=function(){var r=localStorage.getItem(n.prop.vodusCartLocalstorageName),i,t;if(r!=null){for(i=JSON.parse(r),t=0;t<i.length;t++)i[t].productId==0?$.ajax({url:"/cart/add-to-cart-external",method:"POST",data:i[t],"async":!1,dataType:"json",success:function(n){n.successful?n.data!=null&&console.log(n.data):toastr.error(n.message)},error:function(n){toastr.error(n)}}):$.ajax({url:"/cart/add-to-cart",method:"POST",data:i[t],"async":!1,dataType:"json",success:function(n){n.successful?n.data!=null&&console.log(n.data):toastr.error(n.message)},error:function(n){toastr.error(n)}});return localStorage.removeItem(n.prop.vodusCartLocalstorageName),!0}},n}typeof n.vodusCart=="undefined"&&(n.vodusCart=t())})(window);