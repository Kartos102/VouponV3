(function(n){function t(){var n={};return n.prop={vodusUser_configLocalstorageName:"vodus_user_config",logLabel:"Vodus user_config => ",setup:{User_configProvinceId:""}},n.init=function(t){try{return console.log(n.prop.logLabel+"Initializing vodus user_config..."),n.prop.setup.User_configProvinceId=t.User_configProvinceId,!0}catch(i){return console.log(n.prop.logLabel+"Fail to initilize vodus user_config"),!1}},n.isLocalStorageAvailable=function(){try{var t="test";return localStorage.setItem(t,t),localStorage.removeItem(t),console.log(n.prop.logLabel+"Localstorage available"),!0}catch(i){return console.log(n.prop.logLabel+"Localstorage not supported"),!1}},n.updateUser_configCounter=function(){var t=localStorage.getItem(n.prop.vodusUser_configLocalstorageName),i;t==null?$("."+n.prop.setup.User_configProvinceId).html("(0)"):(i=JSON.parse(t),console.log(n.prop.setup.User_configProvinceId),$("."+n.prop.setup.User_configProvinceId).html("("+i.userInformation.provinceId+")"))},n.updateItemPage=function(t,i,r,u){var o=localStorage.getItem(n.prop.vodusUser_configLocalstorageName),f,e;o==null?console.log("Item not in the user_config yet"):(f=JSON.parse(o),e=f.userInformation.findIndex(function(n){return n.id==t}),e>-1&&(f.userInformation[e]!=null&&($("#"+r).val(f.userInformation[e].orderQuantity),$("#"+u).text(f.userInformation[e].totalPrice),f.userInformation[e].additionalDiscount!=null&&$("#additionalDiscount_"+f.userInformation[e].additionalDiscount.id).prop("checked",!0)),$("#"+i).text("Update user_config")))},n.haveDeliveryItems=function(){var i=localStorage.getItem(n.prop.vodusUser_configLocalstorageName),r,t;if(i==null){console.log("Item not in the user_config yet");return}return(r=JSON.parse(i),t=r.userInformation.filter(n=>n.dealExpiration.id===dealExpirationType.Delivery),console.log(t),t.length==0)?!1:!0},n.populateUser_config=function(){var i=localStorage.getItem(n.prop.vodusUser_configLocalstorageName),t;return i==null?(console.log("No items in user_config yet"),0):(t=JSON.parse(i),t.userContainer.userInformation.provinceId="",t)},n.addToUser_config=function(t){var f=localStorage.getItem(n.prop.vodusUser_configLocalstorageName),i,r,u;f==null?(i={userInformation:[provinceId=t]},i.userInformation.provinceId=t,localStorage.setItem(n.prop.vodusUser_configLocalstorageName,JSON.stringify(i))):(i={userInformation:[provinceId=t]},r=JSON.parse(f),r.userInformation.length==0?(i.userInformation.provinceId=t,localStorage.setItem(n.prop.vodusUser_configLocalstorageName,JSON.stringify(i))):(u=!1,r.userInformation.provinceId=t,u=!0,u||(i.userInformation.provinceId=t),localStorage.setItem(n.prop.vodusUser_configLocalstorageName,JSON.stringify(i))));console.log("user Info added to user_config")},n.removeUser_configItemById=function(t){var i=localStorage.getItem(n.prop.vodusUser_configLocalstorageName);if(i!=null){var r={userInformation:[provinceId=newUser_configObject]},u=JSON.parse(i);$(u.userInformation).each(function(){this.id!=t&&r.userInformation.push(this)});localStorage.setItem(n.prop.vodusUser_configLocalstorageName,JSON.stringify(r))}n.populateUser_config();n.updateUser_configCounter()},n.getUserProvince=function(){var t=localStorage.getItem(n.prop.vodusUser_configLocalstorageName),i;if(t==null){console.log("Item not in the user_config yet");return}return i=JSON.parse(t),i.userInformation[0]},n.getUser_configJson=function(){var t=localStorage.getItem(n.prop.vodusUser_configLocalstorageName);if(t==null){console.log("Item not in the user_config yet");return}return JSON.parse(t)},n}typeof n.vodusUser_config=="undefined"&&(n.vodusUser_config=t())})(window);