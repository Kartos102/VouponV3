@model Voupon.Merchant.WebApp.Areas.Admin.Services.Merchants.ViewModels.DetailsViewModel

@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Merchant Details";
}

<!-- Theme included stylesheets -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.2/jquery.ui.touch-punch.min.js"></script>

<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
<link rel="stylesheet" href="~/admin/Merchants/css/Details.css">

<div class="dashboard-main-wrapper">
    <div class="dashboard-ecommerce">
        <div class="container-fluid dashboard-content ">
            <div style="width: auto;margin:20px;">
                <button type="button" class="btn btn-primary" style="float:right;margin-right:10px;" id="btnUpdateStatusAndMessage">Update Status/ Message mercahnt</button>
                <h1>Merchant Details[@Model.Merchant.Code]</h1>
            </div>
            <div class="tab-regular">
                <ul class="nav nav-tabs nav-fill" id="myTab7" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active show" id="profile-tab-justify" data-toggle="tab" href="#business-info" role="tab" aria-controls="profile" aria-selected="false">
                            Business Info &nbsp;&nbsp;&nbsp;<span id="merchantStatusBadge" data-id="@Model.Merchant.StatusTypeId" class="badge badge-light">@Model.Merchant.Status</span>
                            <span id="merchantRequestedReviewBadge" class="badge badge-warning" style="display:none">Requested Review</span>
                        </a>

                    </li>
                    <li class="nav-item">
                        <a class="nav-link " id="home-tab-justify" data-toggle="tab" href="#personal-info" role="tab" aria-controls="home" aria-selected="true">
                            Person In Charge Info &nbsp;&nbsp;&nbsp;
                        </a>

                    </li>

                    <li class="nav-item">
                        <a class="nav-link" id="contact-tab-justify" data-toggle="tab" href="#bank-info" role="tab" aria-controls="contact" aria-selected="false">
                            Bank Info &nbsp;&nbsp;&nbsp;
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="contact-tab-justify" data-toggle="tab" href="#outlets" role="tab" aria-controls="contact" aria-selected="false">
                            Outlets
                        </a>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent7">
                    <div class="tab-pane fade" id="personal-info" role="tabpanel" aria-labelledby="home-tab-justify">
                        <div class="control-buttons-div">
                            <button type="button" class="btn btn-danger" style="float:right;" data-toggle="modal" data-target="#EditPersonInCharge">Edit</button>

                            @if (@Model.PersonInCharge.StatusTypeId != 1)
                            {
                                <button type="button" class="btn btn-primary" id="btnReviewPersonInCharge" style="float:right;margin-right:10px;">Review</button>
                            }
                            else
                            {
                                <button type="button" class="btn btn-primary" id="btnReviewPersonInCharge" style="float:right;margin-right:10px;display:none">Review</button>
                            }

                        </div>
                        <div class="card-body pt-0">
                            <div class="row no-gutters" style="width:100%;margin:20px;">
                                <div class="col-auto col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12" style="max-width: 100px;margin: auto;">
                                    <img class="card-img-top" src="https://upload.wikimedia.org/wikipedia/commons/e/e3/User_Avatar_Person_Info_Information-512.png" alt="Card image cap">
                                </div>
                                <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12 ">
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Name</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="personInChargeName">@Model.PersonInCharge.Name</span>
                                                    <span class="card-subtitle mb-2" id="personInChargeName2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Position</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="personInChargePosition">@Model.PersonInCharge.Position</span>
                                                    <span class="card-subtitle mb-2" id="personInChargePosition2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Proof of Identity (Any of the following: NRIC, Passport or Proof of association with company)</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="personInChargeIdentityNumber">@Model.PersonInCharge.IdentityNumber</span>
                                                    <span class="card-subtitle mb-2" id="personInChargeIdentityNumber2" style="        color: #f3b600;
        display: none
"></span>
                                                </p>
                                            </div>
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Contact</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="personInChargeContact">@Model.PersonInCharge.Contact</span>
                                                    <span class="card-subtitle mb-2" id="personInChargeContact2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Supported Ducoment</h5>
                                                <h6 class="card-subtitle mb-2 text-muted">
                                                    <a id="personInChargeDocument" target="_blank" href="@(String.IsNullOrEmpty(Model.PersonInCharge.DocumentUrl) ? "" :@Model.PersonInCharge.DocumentUrl)" class="card-link">@(String.IsNullOrEmpty(Model.PersonInCharge.DocumentUrl) ? "Empty" : "View")</a>
                                                </h6>
                                            </div>
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Created At</h5>
                                                <h6 class="card-subtitle mb-2 text-muted"> @Model.PersonInCharge.CreatedAt.ToString("MMMM dd, yyyy")</h6>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h5 class="card-title">Review Remarks</h5>
                                                <h6 class="card-subtitle mb-2 text-muted" id="personInChargeRemarks">
                                                    @Html.Raw(Model.PersonInCharge.Remarks)
                                                </h6>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="tab-pane fade  active show" id="business-info" role="tabpanel" aria-labelledby="profile-tab-justify">
                        <div class="control-buttons-div">

                            <button type="button" class="btn btn-danger" style="float:right;" data-toggle="modal" data-target="#EditBusinessInfo">Edit</button>
                            @if (@Model.Merchant.StatusTypeId != 1)
                            {
                                <button type="button" class="btn btn-primary" style="float:right;margin-right:10px;" id="btnReviewBusinessInfo" @*data-toggle="modal" data-target="#ReviewBusinessInfo"*@>Review</button>
                            }
                            else
                            {
                                <button type="button" class="btn btn-primary" style="float:right;margin-right:10px;display:none" id="btnReviewBusinessInfo" @*data-toggle="modal" data-target="#ReviewBusinessInfo"*@>Review</button>
                            }
                        </div>
                        <div class="card-body pt-0">
                            <div class="row no-gutters" style="width:100%;margin:20px;">
                                <div class="col-auto col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12" style="max-width: 100px;margin: auto;">
                                    <img class="card-img-top" id="merchantLogo" src="@Model.Merchant.LogoUrl" alt="Company Logo">
                                </div>
                                <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h5 class="card-title">Registered Email</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantEmail">@Model.RegisteredEmail.ToLower()</span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Company Display Name</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantDisplayName">@Model.Merchant.DisplayName</span>
                                                    <span class="card-subtitle mb-2" id="merchantDisplayName2" style="color:#f3b600;display:none"></span>
                                                </p>

                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Business Type</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantBusinessType" data-id="@Model.Merchant.BusinessTypeId">@Model.Merchant.BusinessType</span>
                                                    <span class="card-subtitle mb-2" id="merchantBusinessType2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Country</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantCountry" data-id="@Model.Merchant.CountryId">@Model.Merchant.CountryName</span>
                                                    <span class="card-subtitle mb-2" id="merchantCountry2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Company Name</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantCompanyName">@Model.Merchant.CompanyName</span>
                                                    <span class="card-subtitle mb-2" id="merchantCompanyName2" style="color:#f3b600;display:none"></span>
                                                </p>


                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Company Registration No</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantRegistrationNumber">@Model.Merchant.RegistrationNumber</span>
                                                    <span class="card-subtitle mb-2" id="merchantRegistrationNumber2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>

                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Company Contact Number</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantCompanyContact">@Model.Merchant.CompanyContact</span>
                                                    <span class="card-subtitle mb-2" id="merchantCompanyContact2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Address 1</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantAddress_1">@Model.Merchant.Address_1</span>
                                                    <span class="card-subtitle mb-2" id="merchantAddress_12" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Address 2</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantAddress_2">@Model.Merchant.Address_2</span>
                                                    <span class="card-subtitle mb-2" id="merchantAddress_22" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">District</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantDistrit" data-id="@Model.Merchant.DistritId">@Model.Merchant.DistritName</span>
                                                    <span class="card-subtitle mb-2" id="merchantDistrit2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Province</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantProvince" data-id="@Model.Merchant.ProvinceId">@Model.Merchant.ProvinceName</span>
                                                    <span class="card-subtitle mb-2" id="merchantProvince2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">PostCode</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="merchantPostcode" data-id="@Model.Merchant.PostCodeId">@Model.Merchant.PostCodeName</span>
                                                    <span class="card-subtitle mb-2" id="merchantPostcode2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>

                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Website</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted">
                                                        <a href="@Model.Merchant.WebsiteSiteUrl" id="merchantWebsiteSiteUrl" target="_blank" class="card-link">
                                                            @Model.Merchant.WebsiteSiteUrl
                                                        </a>
                                                    </span>
                                                    <span class="card-subtitle mb-2" id="merchantWebsiteSiteUrl2" style="color:#f3b600;display:none"></span>
                                                </p>

                                                @*<h6 class="card-subtitle mb-2 text-muted">
                                                        <a href="@Model.Merchant.WebsiteSiteUrl" id="merchantWebsiteSiteUrl" target="_blank" class="card-link">
                                                            @Model.Merchant.WebsiteSiteUrl
                                                        </a>
                                                    </h6>*@
                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Supported Document</h5>
                                                <h6 class="card-subtitle mb-2 text-muted">
                                                    <a href="@(String.IsNullOrEmpty(Model.Merchant.BIDDocumentUrl)?"":@Model.Merchant.BIDDocumentUrl)" target="_blank" id="MerchantDocument" class="card-link">@(String.IsNullOrEmpty(Model.Merchant.BIDDocumentUrl) ? "Empty" : "View")</a>

                                                </h6>
                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Created At</h5>
                                                <h6 class="card-subtitle mb-2 text-muted">@Model.Merchant.CreatedAt.ToString("MMMM dd, yyyy")</h6>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h5 class="card-title">Description</h5>
                                                <h6 class="card-subtitle mb-2 text-muted" id="merchantDescription">
                                                    @Html.Raw(Model.Merchant.Description)
                                                </h6>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h5 class="card-title">Review Remarks</h5>
                                                <h6 class="card-subtitle mb-2 text-muted" id="merchantStatusRemarks">
                                                    @Html.Raw(Model.Merchant.Remarks)
                                                </h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="bank-info" role="tabpanel" aria-labelledby="contact-tab-justify">
                        <div class="control-buttons-div">
                            <button type="button" class="btn btn-danger" style="float:right;" data-toggle="modal" data-target="#EditBankAccount">Edit</button>
                            @if (@Model.BankAccount.StatusTypeId != 1)
                            {
                                <button type="button" class="btn btn-primary" style="float:right;margin-right:10px;" id="btnReviewBankAccount" @*data-toggle="modal" data-target="#ReviewBankAccount"*@>Review</button>
                            }
                            else
                            {
                                <button type="button" class="btn btn-primary" style="float:right;margin-right:10px;display:none" id="btnReviewBankAccount" @*data-toggle="modal" data-target="#ReviewBankAccount"*@>Review</button>
                            }
                        </div>
                        <div class="card-body  pt-0">
                            <div class="row no-gutters" style="width:100%;margin:20px;">
                                <div class="col-auto col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12" style="max-width: 100px;margin: auto;">
                                    <img class="card-img-top" src="https://cdn.iconscout.com/icon/premium/png-512-thumb/bank-account-banking-building-1-31235.png" alt="Card image cap">
                                </div>
                                <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Bank</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="bankAccountBank" data-id="@Model.BankAccount.BankId">@(String.IsNullOrEmpty(Model.BankAccount.Bank) ? "-" : Model.BankAccount.Bank)</span>
                                                    <span class="card-subtitle mb-2" id="bankAccountBank2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Account Name</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="bankAccountName">@Model.BankAccount.Name</span>
                                                    <span class="card-subtitle mb-2" id="bankAccountName2" style="color:#f3b600;display:none"></span>
                                                </p>

                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Account Number</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="bankAccountNumber">@Model.BankAccount.AccountNumber</span>
                                                    <span class="card-subtitle mb-2" id="bankAccountNumber2" style="color:#f3b600;display:none"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Supported Document</h5>
                                                <h6 class="card-subtitle mb-2 text-muted">
                                                    <a href="@(String.IsNullOrEmpty(Model.BankAccount.DocumentUrl) ? "" : @Model.BankAccount.DocumentUrl)" target="_blank" id="merchantBankAccountDocument" class="card-link">@(String.IsNullOrEmpty(Model.BankAccount.DocumentUrl) ? "Empty" : "View")</a>
                                                </h6>
                                            </div>
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Created At</h5>
                                                <h6 class="card-subtitle mb-2 text-muted">@Model.BankAccount.CreatedAt.ToString("MMMM dd, yyyy")</h6>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h5 class="card-title">Review Remarks</h5>
                                                <h6 class="card-subtitle mb-2 text-muted" id="bankAccountRemarks">
                                                    @Html.Raw(Model.BankAccount.Remarks)
                                                </h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="tab-pane fade" id="outlets" role="tabpanel" aria-labelledby="contact-tab-justify">
                        <div class="card-body pt-0">
                            <button type="button" class="btn btn-primary pull-right" id="btnCreateNewOutlet" style="float:right;margin-left:10px;"><span class="fa fa-plus"></span> Add Outlet</button>
                            <div class="table-responsive-lg">
                                <table id="dtOutlets" class="table table-striped table-bordered">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th scope="col" style="text-align: center;">No</th>
                                            <th scope="col" style="text-align: center;">Name</th>
                                            <th scope="col" style="text-align: center;">Street Name</th>
                                            <th scope="col" style="text-align: center;">District</th>
                                            <th scope="col" style="text-align: center;">Province</th>
                                            <th scope="col" style="text-align: center;">Postcode</th>
                                            <th scope="col" style="text-align: center;">Contact</th>
                                            <th scope="col" style="text-align: center;">Opening Hour</th>
                                            <th scope="col" style="text-align: center;">IsActivated</th>
                                            <th scope="col" style="text-align: center;">CreatedAt</th>
                                            <th scope="col" style="text-align: center;">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="dtOutletsBody">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                </div>
            </div>

            <!-- Review Business Info Modal -->
            <div class="modal fade" id="ReviewBusinessInfo" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Review Business Info</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="card-body">
                                <div class="row no-gutters" style="width:100%;margin:20px;">
                                    <div class="col-auto col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12" style="width:250px;margin: auto;">
                                        <img class="card-img-top" id="reviewMerchantLogo" src="" alt="Company Logo">
                                    </div>
                                    <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                                        <div class="card-body">
                                            <div class="form-row">
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Company Display Name</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantDisplayName"></span>
                                                    </p>

                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Business Type</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantBusinessType"></span>
                                                    </p>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Country</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantCountry"></span>
                                                    </p>
                                                </div>
                                            </div>

                                            <div class="form-row">
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Company Name</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantCompanyName"></span>
                                                    </p>


                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Company Registration No</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantRegistrationNumber"></span>
                                                    </p>
                                                </div>

                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Company Contact Number</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantCompanyContact"></span>
                                                    </p>
                                                </div>
                                            </div>

                                            <div class="form-row">
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Address 1</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantAddress_1"></span>
                                                    </p>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Address 2</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantAddress_2"></span>
                                                    </p>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">District</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantDistrit"></span>
                                                    </p>
                                                </div>
                                            </div>

                                            <div class="form-row">
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Province</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantProvince"></span>
                                                    </p>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">PostCode</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted" id="reviewMerchantPostcode"></span>
                                                    </p>
                                                </div>

                                            </div>

                                            <div class="form-row">
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Website</h5>
                                                    <p>
                                                        <span class="card-subtitle mb-2 text-muted">
                                                            <a href="" id="reviewMerchantWebsiteSiteUrl" target="_blank" class="card-link">
                                                            </a>
                                                        </span>
                                                    </p>

                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Supported Document</h5>
                                                    <h6 class="card-subtitle mb-2 text-muted">
                                                        <a href="" target="_blank" id="reviewMerchantDocument" class="card-link">Empty</a>

                                                    </h6>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    <h5 class="card-title">Created At</h5>
                                                    <h6 class="card-subtitle mb-2 text-muted">@Model.Merchant.CreatedAt.ToString("MMMM dd, yyyy")</h6>
                                                </div>
                                            </div>
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <h5 class="card-title">Description</h5>
                                                    <h6 class="card-subtitle mb-2 text-muted" id="reviewMerchantDescription">
                                                    </h6>
                                                </div>
                                            </div>

                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <h5 class="card-title">Status</h5>
                                                    <h6 class="card-subtitle mb-2 text-muted" id="reviewMerchantStatus">
                                                    </h6>
                                                </div>
                                            </div>

                                            @*<div class="form-row">
                                                    <div class="form-group col-md-12">
                                                        <h5 class="card-title">Review Remarks</h5>
                                                        <h6 class="card-subtitle mb-2 text-muted" id="reviewMerchantStatusRemarks">
                                                        </h6>
                                                    </div>
                                                </div>*@
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <form>
                                <div class="form-group">
                                    <label for="message-text" class="col-form-label">Review Remarks:</label>
                                    <div class="form-control" contenteditable="true" id="reviewMerchantStatusRemarks" readonly></div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Edit Business Info Modal -->
            <div class="modal fade" id="EditBusinessInfo" data-id="@Model.Merchant.Id" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Edit Business Info</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div>
                                <div class="form-group row">
                                    @Html.HiddenFor(m => m.Merchant.Id)
                                    <div class="container col-xl-3 col-lg-3 col-md-4 col-sm-4 col-mb-4">
                                        <div class="logo-container">
                                            <div class="picture">
                                                <img src="@Model.Merchant.LogoUrl" class="logo-src" id="logoPreview" title="">
                                                <input type="file" id="EditCompanyLogo">
                                            </div>
                                            <h6 class="">Upload logo</h6>

                                        </div>
                                    </div>
                                    <div class="col-xl-9 col-lg-9 col-md-8 col-sm-8 col-mb-8">
                                        <label for="EditCompanyName" class="col-form-label">Company name</label>
                                        <input id="EditCompanyName" type="text" class="form-control" value="@Model.Merchant.CompanyName">
                                        <label for="companyRegistrationNo" class="col-form-label">Company Registration No</label>
                                        <input id="EditRegistrationNumber" type="text" class="form-control" value="@Model.Merchant.RegistrationNumber">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label for="EditDisplayName" class="col-form-label">Company Display Name</label>
                                        <input id="EditDisplayName" type="text" class="form-control" value="@Model.Merchant.DisplayName">
                                        <label for="selectCountry" class="col-form-label">Country</label>
                                        <select class="form-control selectpicker" id="EditCompanyCountry">
                                            <option>Choose Country</option>
                                        </select>
                                        <label for="selectDistrict" class="col-form-label">District</label>
                                        <select class="form-control selectpicker" id="EditCompanyDistrict" data-live-search="true">
                                            <option>Choose District</option>
                                        </select>
                                        <label for="EditAddress_1" class="col-form-label">Address 1</label>
                                        <input id="EditAddress_1" type="text" class="form-control" value="@Model.Merchant.Address_1">
                                        <label for="EditCompanyContact" class="col-form-label">Company Contact Number</label>
                                        <input id="EditCompanyContact" type="text" class="form-control" value="@Model.Merchant.CompanyContact">
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label for="selectBusinessType" class="col-form-label">Business Type</label>
                                        <select class="form-control selectpicker" id="EditCompanyType">
                                            <option>Business Type</option>
                                        </select>
                                        <label for="selectprovince" class="col-form-label">Province</label>
                                        <select class="form-control selectpicker" id="EditCompanyProvince" data-live-search="true">
                                            <option>Choose Province</option>
                                        </select>
                                        <label for="selectPostCode" class="col-form-label">PostCode</label>
                                        <select class="form-control selectpicker" id="EditCompanyPostcode" data-live-search="true">
                                            <option>Choose PostCode</option>
                                        </select>
                                        <label for="EditAddress_2" class="col-form-label">Address 2</label>
                                        <input id="EditAddress_2" type="text" class="form-control" value="@Model.Merchant.Address_2">
                                        <label for="EditCompanyDocument" class="col-form-label">Upload your Business Registration Document (Form 9)</label>
                                        <input type="file" id="EditCompanyDocument" class="form-control" value="@Model.Merchant.BIDDocumentUrl">
                                        <br />
                                        @{
                                            if (!String.IsNullOrEmpty(@Model.Merchant.BIDDocumentUrl))
                                            {
                                                <a id="bidDocumentLink" target="_blank" href="@Model.Merchant.BIDDocumentUrl">View File</a>
                                            }
                                            else
                                            {
                                                <a id="bidDocumentLink" target="_blank" style="display:none">View File</a>
                                            }
                                        }
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="website" class="col-form-label">Website</label>
                                    <div class="input-group input-group-sm mb-3">
                                        <div class="input-group-prepend"></div>
                                        <input type="url" placeholder="" class="form-control" id="EditCompanyWebsite" value="@Model.Merchant.WebsiteSiteUrl">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-form-label" for="EditCompanyDescribtion">Describe your company to your customers​</label>
                                    <input type="hidden" id="EditCompanyDescribtion" asp-for="@Model.Merchant.Description" />
                                    <div id="edit-company-description">
                                        @Html.Raw(Model.Merchant.Description)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="UpdateBusiness">Update</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Review Person In Charge  Modal -->
            <div class="modal fade" id="ReviewPersonInCharge" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog  modal-xl modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Review Person In Charge</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div>
                                <div class="card-body">
                                    <div class="row no-gutters" style="width:100%;margin:20px;">
                                        <div class="col-auto col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12" style="width:250px;margin: auto;">
                                            <img class="card-img-top" src="https://upload.wikimedia.org/wikipedia/commons/e/e3/User_Avatar_Person_Info_Information-512.png" alt="Card image cap">
                                        </div>
                                        <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                                            <div class="card-body">
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <h5 class="card-title">Name</h5>
                                                        <p>
                                                            <span class="card-subtitle mb-2 text-muted" id="reviewPersonInChargeName"></span>
                                                        </p>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <h5 class="card-title">Position</h5>
                                                        <p>
                                                            <span class="card-subtitle mb-2 text-muted" id="reviewPersonInChargePosition"></span>
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <h5 class="card-title">Proof of Identity (Any of the following: NRIC, Passport or Proof of association with company)</h5>
                                                        <p>
                                                            <span class="card-subtitle mb-2 text-muted" id="reviewPersonInChargeIdentityNumber"></span>
                                                        </p>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <h5 class="card-title">Contact</h5>
                                                        <p>
                                                            <span class="card-subtitle mb-2 text-muted" id="reviewPersonInChargeContact"></span>
                                                        </p>
                                                    </div>
                                                </div>

                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <h5 class="card-title">Supported Ducoment</h5>
                                                        <h6 class="card-subtitle mb-2 text-muted">
                                                            <a id="reviewPersonInChargeDocument" target="_blank" href="" class="card-link">Empty</a>
                                                        </h6>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <h5 class="card-title">Created At</h5>
                                                        <h6 class="card-subtitle mb-2 text-muted"> @Model.PersonInCharge.CreatedAt.ToString("MMMM dd, yyyy")</h6>
                                                    </div>
                                                </div>

                                                <div class="form-row">
                                                    <div class="form-group col-md-12">
                                                        <h5 class="card-title">Status</h5>
                                                        <h6 class="card-subtitle mb-2 text-muted" id="reviewPersonInChargeStatus">
                                                        </h6>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <form>
                                <div class="form-group">
                                    <label for="message-text" class="col-form-label">Review Remarks:</label>
                                    <div class="form-control" contenteditable="true" id="reviewPersonInChargeRemarks" readonly></div>
                                </div>

                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Update Status and message merchant Modal -->
            <div class="modal fade" id="updateStatusAndMessageModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog  modal-xl modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Update Status / Send Message</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="card-body">

                                    <div class="form-group">
                                        <label for="recipient-name" class="col-form-label">Status:</label>
                                        <select class="form-control" id="businessInfoStatus">
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="message-text" class="col-form-label">Message:</label>
                                        <textarea class="form-control" id="businessStatusRemarks"></textarea>
                                    </div>


                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="UpdateBusinessStatus">Update</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Edit Person In Charge Modal -->
            <div class="modal fade" id="EditPersonInCharge" data-id="@Model.PersonInCharge.Id" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Edit Person In Charge</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group row">
                                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <label for="personInChargeName" class="col-form-label">Name</label>
                                    <input type="text" class="form-control" id="editPersonInChargeName">
                                    <label for="position" class="col-form-label">Position</label>
                                    <input id="editPersonInChargePosition" type="text" class="form-control">
                                </div>
                                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <label for="contact" class="col-form-label">Contact number</label>
                                    <input id="editPersonInChargeContact" type="text" class="form-control">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <label for="identityNumber" class="col-form-label">Identity number</label>
                                    <input type="text" class="form-control" id="editPersonInChargeIdentityNumber">
                                </div>
                                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <label for="identityDocument" class="col-form-label">Proof of Identity (Any of the following: NRIC, Passport or Proof of association with company)</label>
                                    <input type="file" id="editPersonInChargeIentityDocument" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="UpdatePersonInCharge">Update</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Review Bank Account Modal -->
            <div class="modal fade" id="ReviewBankAccount" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Review Bank Account</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="row no-gutters" style="width:100%;margin:20px;">
                                <div class="col-auto col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12" style="width:250px;margin: auto;">
                                    <img class="card-img-top" src="https://cdn.iconscout.com/icon/premium/png-512-thumb/bank-account-banking-building-1-31235.png" alt="Card image cap">
                                </div>
                                <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <h5 class="card-title">Bank</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="reviewBankAccountBank"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Account Name</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="reviewBankAccountName"></span>
                                                </p>

                                            </div>
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Account Number</h5>
                                                <p>
                                                    <span class="card-subtitle mb-2 text-muted" id="reviewBankAccountNumber"></span>
                                                </p>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Supported Document</h5>
                                                <h6 class="card-subtitle mb-2 text-muted">
                                                    <a href="" target="_blank" id="reviewBankAccountDocument" class="card-link">Empty</a>
                                                </h6>
                                            </div>
                                            <div class="form-group col-md-6">
                                                <h5 class="card-title">Created At</h5>
                                                <h6 class="card-subtitle mb-2 text-muted">@Model.BankAccount.CreatedAt.ToString("MMMM dd, yyyy")</h6>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h5 class="card-title">Status</h5>
                                                <h6 class="card-subtitle mb-2 text-muted" id="reviewBankAccountStatus">
                                                </h6>
                                            </div>
                                        </div>

                                        @*<div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <h5 class="card-title">Remarks</h5>
                                                    <h6 class="card-subtitle mb-2 text-muted" id="reviewBankAccountRemarks">
                                                    </h6>
                                                </div>
                                            </div>*@
                                    </div>
                                </div>
                            </div>
                            <form>
                                <div class="form-group">
                                    <label for="message-text" class="col-form-label">Review Remarks:</label>
                                    <div class="form-control" contenteditable="true" id="reviewBankAccountRemarks" readonly></div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Edit Bank Account Modal -->
            <div class="modal fade" id="EditBankAccount" data-id="@Model.BankAccount.Id" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Edit Bank Account</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group row">
                                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <label for="bankTypeSelect" class="col-form-label">Bank Type</label>
                                    <select class="form-control selectpicker" id="editBankTypeSelect">
                                        <option>Choose Bank</option>
                                    </select>
                                    <label for="bankAccountNumber" class="col-form-label">Account Number</label>
                                    <input id="editBankAccountNumber" type="text" class="form-control">
                                </div>
                                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    <label for="bankAccountName" class="col-form-label">Bank Account Name</label>
                                    <input id="editBankAccountName" type="text" class="form-control">
                                    <label for="bankDocument" class="col-form-label">Upload your bank Document</label>
                                    <input type="file" id="editBankDocument" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="UpdateBankAccount">Update</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="createNewOutletModal" merchant-id="@Model.Merchant.Id" role="dialog">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="modalTitle">Create New Outlet</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>

                        </div>
                        <div class="modal-body">
                            <form id="createOutletForm" name="createOutletForm">
                                @Html.AntiForgeryToken()
                                <div class="form-group row">
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label asp-for="@Model.OutletModel.Name" class="col-form-label">Outlet Name</label>
                                        <input asp-for="@Model.OutletModel.Name" id="outletName" class="form-control" />
                                        <span asp-validation-for="@Model.OutletModel.Name" class="text-danger"></span><br />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label asp-for="@Model.OutletModel.StreetName" class="col-form-label"></label>
                                        <input id="streetName" asp-for="@Model.OutletModel.StreetName" class="form-control" />
                                        <span asp-validation-for="@Model.OutletModel.StreetName" class="text-danger"></span><br />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">

                                        <label asp-for="@Model.OutletModel.CountryId" class="col-form-label"></label>
                                        <select asp-for="@Model.OutletModel.CountryId" class="form-control selectpicker" id="countrySelect">
                                            <option value="">Choose Country</option>
                                        </select>
                                        <span asp-validation-for="@Model.OutletModel.CountryId" class="text-danger"></span><br />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label asp-for="@Model.OutletModel.ProvinceId" class="col-form-label"></label>
                                        <select asp-for="@Model.OutletModel.ProvinceId" class="form-control selectpicker" id="provinceSelect" data-live-search="true">
                                            <option value="">Choose Province</option>
                                        </select>
                                        <span asp-validation-for="@Model.OutletModel.ProvinceId" class="text-danger"></span><br />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">

                                        <label asp-for="@Model.OutletModel.DistrictId" class="col-form-label"></label>
                                        <select asp-for="@Model.OutletModel.DistrictId" class="form-control selectpicker" id="distritSelect" data-live-search="true">
                                            <option value="">Choose District</option>
                                        </select>
                                        <span asp-validation-for="@Model.OutletModel.DistrictId" class="text-danger"></span><br />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label asp-for="@Model.OutletModel.PostCodeId" class="col-form-label"></label>
                                        <select asp-for="@Model.OutletModel.PostCodeId" class="form-control selectpicker" id="postCodeSelect" data-live-search="true">
                                            <option value="">Choose Postcode</option>
                                        </select>
                                        <span asp-validation-for="@Model.OutletModel.PostCodeId" class="text-danger"></span><br />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label asp-for="@Model.OutletModel.Address_1" class="col-form-label"></label>
                                        <input id="address1" asp-for="@Model.OutletModel.Address_1" class="form-control" />
                                        <span asp-validation-for="@Model.OutletModel.Address_1" class="text-danger"></span><br />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                        <label asp-for="@Model.OutletModel.Address_2" class="col-form-label"></label>
                                        <input id="address2" asp-for="@Model.OutletModel.Address_2" class="form-control" />
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">

                                        <label asp-for="@Model.OutletModel.Contact" class="col-form-label"></label>
                                        <input id="outletContact" asp-for="@Model.OutletModel.Contact" class="form-control" />
                                        <span asp-validation-for="@Model.OutletModel.Contact" class="text-danger"></span><br />


                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                                    </div>
                                    <div class="col-12">
                                        <div>
                                            <img id="imageFolderUrl" />
                                            <label class="col-form-label">Upload your Outlet Photo</label>
                                            <br />
                                            <span class="btn btn-primary btn-file">
                                                Upload your Images
                                                <i class="fa fa-upload"></i>
                                            </span>
                                        </div>
                                        <input type="file" name="files[]" multiple id="EditImage" class="form-control" value="">
                                    </div>
                                    <div class="col-12 gallery" id="imageGallery"></div>

                                </div>
                                <div class="container-fluid py-2 mx-auto no-padding">
                                    <div class="row d-flex justify-content-center">
                                        <div class="col-md-12 col-lg-12 col-xl-12 no-padding">
                                            <div class="card-working-hours border-0">
                                                <div class="row opening-hours-header">
                                                    <div class="col-xl-5 col-4 row opening-hours-title-col">
                                                        <h3 class="title-col mb-0 opening-hours">Opening Hours</h3>
                                                    </div>
                                                    <div class="col-xl-7 col-8 row grey-bg no-padding">
                                                        <div class="col-4">
                                                            <span>
                                                                Start
                                                            </span>
                                                        </div>
                                                        <div class="col-4">
                                                            <span>
                                                                End
                                                            </span>
                                                        </div>
                                                        <div class="col-4">
                                                            <input id="checkbox_hours_0" data-id="0" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="All Close" data-onstyle="danger" data-offstyle="success" data-off="All Open">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_7">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4 row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    Sun
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8 row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_7" class="timepicker timepicker-with-dropdown from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_7" class="timepicker timepicker-with-dropdown end-time" name="to">
                                                            </div>
                                                            <div class="col-4">
                                                                <input id="checkbox_hours_7" data-id="7" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_1">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4  row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    Mon
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8 grey-bg row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_1" class="timepicker timepicker-with-dropdown from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_1" class="timepicker timepicker-with-dropdown end-time" name="to">
                                                            </div>
                                                            <div class="col-4">
                                                                <input id="checkbox_hours_1" data-id="1" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_2">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4  row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    Tue
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8  row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_2" class="timepicker timepicker-with-dropdown from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_2" class="timepicker timepicker-with-dropdown end-time" name="to">
                                                            </div>
                                                            <div class="col-4">
                                                                <input id="checkbox_hours_2" data-id="2" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_3">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4  row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    Wed
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8 grey-bg  row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_3" class="timepicker timepicker-with-dropdown from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_3" class="timepicker timepicker-with-dropdown end-time" name="to">
                                                            </div>
                                                            <div class="col-4">
                                                                <input id="checkbox_hours_3" data-id="3" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_4">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4  row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    Thu
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8  row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_4" class="timepicker timepicker-with-dropdown from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_4" class="timepicker timepicker-with-dropdown end-time" name="to">
                                                            </div>
                                                            <div class="col-4">
                                                                <input id="checkbox_hours_4" data-id="4" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_5">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4  row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    Fri
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8 grey-bg  row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_5" class="timepicker timepicker-with-dropdown from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_5" class="timepicker timepicker-with-dropdown end-time" name="to">
                                                            </div>
                                                            <div class="col-4">
                                                                <input id="checkbox_hours_5" data-id="5" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_6">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4  row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    Sat
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8  row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_6" class="timepicker timepicker-with-dropdown from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_6" class="timepicker timepicker-with-dropdown end-time" name="to">
                                                            </div>                                                <div class="col-4">
                                                                <input id="checkbox_hours_6" data-id="6" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row col-12 list no-padding" id="Edit_Days_8">
                                                    <div class="row col-12 opening-hours-row">
                                                        <div class="col-xl-5 col-4  row opening-hours-title-col">
                                                            <div class="col-5">
                                                                <span class="open-day">
                                                                    PH
                                                                </span>
                                                            </div>
                                                            <div class="col-7">
                                                                <span class="btn btn-primary btn_apply_all">Apply to All</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-7 col-8 grey-bg row no-padding">
                                                            <div class="col-4 time-select">
                                                                <input id="start_hours_8" class="timepicker from-time" name="from">
                                                            </div>
                                                            <div class="col-4 time-select">
                                                                <input id="end_hours_8" class="timepicker end-time" name="to">
                                                            </div>
                                                            <div class="col-4">
                                                                <input id="checkbox_hours_8" data-id="8" type="checkbox" name="closed" value="closed" class="closed" data-toggle="toggle" data-width="100" data-on="Close" data-onstyle="danger" data-offstyle="success" data-off="Open">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row  mt-3 justify-content-center">
                                                    <button id="btnAddOutlet" class="btn btn-primary">Add</button>
                                                    <button id="btnUpdateOutlet" style="display:none;" class="btn btn-primary">Update</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="display:none">
        <div class="row card-table-row card-table-tamplate">
            <div class="mobile-card-row row col-12 col-md-12 col-sm-12">
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        No:
                    </div>
                    <div class="col-6 card-record-row outlet-id">
                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        Name:
                    </div>
                    <div class="col-6 card-record-row outlet-name">
                    </div>
                </div>

                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        Street Name:
                    </div>
                    <div class="col-6 card-record-row outlet-street-name">
                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        District:
                    </div>
                    <div class="col-6 card-record-row outlet-district">
                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        Province:
                    </div>
                    <div class="col-6 card-record-row outlet-province">
                    </div>
                </div>

                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        Postcode
                    </div>
                    <div class="col-6 card-record-row outlet-postcode">

                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        Contact:
                    </div>
                    <div class="col-6 card-record-row outlet-contact">

                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        Opening Hours:
                    </div>
                    <div class="col-6 card-record-row outlet-opening-hours">

                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        IsActivated:
                    </div>
                    <div class="col-6 card-record-row outlet-isActivated">
                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        CreatedAt:
                    </div>
                    <div class="col-6 card-record-row outlet-createdAt">
                    </div>
                </div>

                <div class="row col-12">
                    <div class="col-6 card-title-row">
                        Action:
                    </div>
                    <div class="col-6 card-record-row outlet-action">

                    </div>
                </div>

            </div>
        </div>
    </div>

</div>
<div class="modal fade" id="deleteOutletModal" outlet-id="" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="modalTitle">Delete Outlet</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>

            </div>
            <div class="modal-body">
                <div class="form-group row">
                    Are you sure that you want to delete this outlet?

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="btnDeleteOutlet">Delete</button>
            </div>
        </div>
    </div>
</div>
<button type="button" class="btn btn-primary" style="display:none" id="UpdateBankAccountStatus">Update</button>
<button type="button" class="btn btn-primary" style="display:none" id="UpdatePersonInChargeStatus">Update</button>
@section styles{

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <!-- Theme included stylesheets -->
    <link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link href="//cdn.quilljs.com/1.3.6/quill.bubble.css" rel="stylesheet">

    <!-- Core build with no theme, formatting, non-essential modules -->
    <link href="//cdn.quilljs.com/1.3.6/quill.core.css" rel="stylesheet">
}

@section scripts{
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>


    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#logoPreview').attr('src', e.target.result).fadeIn('slow');
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    var filesList = [];
    var removefilesList = [];
    function SetRemoveImageEvent() {
        $(".remove-img").unbind().click(function () {
            var index = $(this).parent(".product-img-preview-container").attr("index");
            $(this).parent(".product-img-preview-container").remove();
            filesList.splice(index, 1);

            var index = 0;
            $(".gallery").find(".product-img-preview-container").each(function () {
                $(this).attr("index", index++);
            });
        });
    }

    //function SetRemoveImageUrlEvent() {
    //    $(".remove-img-url").unbind().click(function () {
    //        var imagesrc = $(this).parent(".product-img-preview-container").attr("image-src");
    //        $(this).parent(".product-img-preview-container").remove();
    //        removefilesList.push(imagesrc);

    //        var index = 0;
    //        $(".gallery").find(".product-img-preview-container").each(function () {
    //            $(this).attr("index", index++);
    //        });
    //    });
    //}

           function SetRemoveImageUrlEvent() {
            $(".remove-img-url").unbind().click(function () {
                var imagesrc = $(this).parent(".product-img-preview-container").attr("image-src");
                $(this).parent(".product-img-preview-container").remove();
                var index = $(this).parent(".product-img-preview-container").attr("index");
                filesList.splice(index, 1);
                removefilesList.push(imagesrc);

                var index = 0;
                $(".gallery").find(".product-img-preview-container").each(function () {
                    $(this).attr("index", index++);
                });
                $("#EditImage").val('');
            });
        }



        var imagesPreview = function (input, placeToInsertImagePreview) {

            if (input.files) {
                var index = 0;
                $(".product-img-preview-container").each(function () {
                    $(this).attr("index", index);
                    index++;
                });

                // console.log(input.files);
                var filesAmount = input.files.length;
                for (i = 0; i < filesAmount; i++) {
                    var reader = new FileReader();
                    var imageNumber = 0;

                    reader.onload = function (event) {
                        if (input.files[imageNumber].type == "image/png" || input.files[imageNumber].type == "image/jpeg" || input.files[imageNumber].type == "image/jpg" || input.files[imageNumber].type == "image/jfif") {
                            $($.parseHTML('<span class="product-img-preview-container" index="' + index + '"><img src="' + event.target.result + '" class="product-img-preview"/><br/><span class="remove-img">Remove image</span></span>')).appendTo(placeToInsertImagePreview);
                            SetRemoveImageEvent();
                            index++;
                        }
                    }
                    if (input.files[i].type == "image/png" || input.files[i].type == "image/jpeg" || input.files[i].type == "image/jpg" || input.files[i].type == "image/jfif") {

                        filesList.push(input.files[i]);
                        reader.readAsDataURL(input.files[i]);
                    }
                    else {
                        toastr.error("Please upload files having extensions: <b>png, jpeg, jpg, jfif</b> only");
                    }
                }


            }
        };
    //var imagesPreview = function (input, placeToInsertImagePreview) {
    //    if (input.files) {
    //        console.log(input.files);
    //        var filesAmount = input.files.length;
    //        for (i = 0; i < filesAmount; i++) {
    //            var reader = new FileReader();
    //            var imageNumber = 0;
    //            reader.onload = function (event) {
    //                $($.parseHTML('<span class="product-img-preview-container" index="' + imageNumber++ + '"><img src="' + event.target.result + '" class="product-img-preview"/><br/><span class="remove-img">Remove image</span></span>')).appendTo(placeToInsertImagePreview);
    //                SetRemoveImageEvent();
    //            }
    //            filesList.push(input.files[i]);
    //            reader.readAsDataURL(input.files[i]);
    //        }
    //    }
    //};


        $(document).ready(function () {

            $('input.timepicker.from-time').timepicker({
                timeFormat: 'hh:mm p',
            });
            $('input.timepicker.end-time').timepicker({
                timeFormat: 'hh:mm p',
            });

           $("#imageGallery").sortable({
                start: function (event, ui) {
                    var start_pos = ui.item.index();
                    ui.item.data('start_pos', start_pos);
                },
                change: function (event, ui) {
                    //  var start_pos = ui.item.data('start_pos');
                    // var index = ui.placeholder.index();
                    //  alert(start_pos);
                    //          alert(index);
                },
                update: function (event, ui) {

                    var start_pos = ui.item.data('start_pos');
                    var index = ui.item.index();
                    var temp = filesList[start_pos];
                    //var temp1 = filesList[index];

                    filesList.splice(start_pos, 1);
                    filesList.splice(index, 0, temp);

                    var index = 0;
                    $(".product-img-preview-container").each(function () {
                        $(this).attr("index", index);
                        index++;
                    });


                }
            });

            $("#outlets-search-btn").on("click", function () {
                var execludedList = [];
                var value = $("#outlets-search-input").val().toLowerCase();
                if (value == "") {
                    $(".outlets-table-card").children().each(function () {
                        $(this).show();
                    })
                    return false;
                }
                $(".card-table-tamplate").find(".outlet-id").filter(function () {
                    var textToFilter = $(this).text() + " " + $(this).parent().parent().find(".outlet-name").text() + " " + $(this).parent().parent().find(".outlet-street-name").text() + " " + $(this).parent().parent().find(".outlet-district").text() + " " + $(this).parent().parent().find(".outlet-province").text() + " " + $(this).parent().parent().find(".outlet-postcode").text() + " " + $(this).parent().parent().find(".outlet-contact").text() + " " + $(this).parent().parent().find(".outlet-createdAt").text();
                    if (textToFilter.toLowerCase().indexOf(value) == -1) {
                        $(this).parent().parent().parent().hide();
                    }
                    else {
                        $(this).parent().parent().parent().show();
                    }
                });
            });

            $("#outlets-search-input").on("search", function () {
                var execludedList = [];
                var value = $("#outlets-search-input").val().toLowerCase();
                if (value == "") {
                    $(".outlets-table-card").children().each(function () {
                        $(this).show();
                    })
                    return false;
                }
                $(".card-table-tamplate").find(".outlet-id").filter(function () {
                    var textToFilter = $(this).text() + " " + $(this).parent().parent().find(".outlet-name").text() + " " + $(this).parent().parent().find(".outlet-street-name").text() + " " + $(this).parent().parent().find(".outlet-district").text() + " " + $(this).parent().parent().find(".outlet-province").text() + " " + $(this).parent().parent().find(".outlet-postcode").text() + " " + $(this).parent().parent().find(".outlet-contact").text() + " " + $(this).parent().parent().find(".outlet-createdAt").text();
                    if (textToFilter.toLowerCase().indexOf(value) == -1) {
                        $(this).parent().parent().parent().hide();
                    }
                    else {
                        $(this).parent().parent().parent().show();
                    }
                });
            });


            $(".btn-file").click(function () {
                $('#EditImage').click();
            });
            $('#EditImage').on('change', function () {
                imagesPreview(this, 'div.gallery');
            });

            $("#EditCompanyLogo").change(function () {
                readURL(this);
            });
        @*if (@Model.Merchant.StatusTypeId== 2 || @Model.Merchant.StatusTypeId== 3)
            GetMerchantPendingChanges(@Model.Merchant.Id);
        if (@Model.BankAccount.StatusTypeId== 2 ||  @Model.BankAccount.StatusTypeId== 3)
            GetBankAccountPendingChanges(@Model.Merchant.Id);
        if (@Model.PersonInCharge.StatusTypeId== 2 ||  @Model.PersonInCharge.StatusTypeId== 3)
            GetPersonInChargePendingChange(@Model.Merchant.Id);*@

            GetStatusTypeList();
            $('#businessInfoStatus').val(4);
            $('#personInChargeStatus').val(4);
            $('#bankAccountStatus').val(4);
            UpdateBadge();
            GetMerchantOutlets(@Model.Merchant.Id);
            $("#btnReviewPersonInCharge").click(function () {
                $.ajax({
                    type: "GET",
                    async: false,
                    dataType: 'json',
                    url: '/Admin/Merchants/GetPersonInChargePendingChange/' + @Model.Merchant.Id,
                    success: function (response) {
                        if (response.successful) {
                            if (response.data != null) {
                                $("#reviewPersonInChargeName").html(response.data.name);
                                $("#reviewPersonInChargePosition").html(response.data.position);
                                $("#reviewPersonInChargeIdentityNumber").html(response.data.identityNumber);
                                $("#reviewPersonInChargeContact").html(response.data.contact);
                                $("#reviewPersonInChargeRemarks").html(response.data.remarks);
                                $("#reviewPersonInChargeStatus").html(response.data.status);
                                if (response.data.documentUrl) {
                                    $("#reviewPersonInChargeDocument").html("View");
                                    $("#reviewPersonInChargeDocument").attr("href", response.data.documentUrl);
                                }
                            }
                        }
                        else
                    toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
                $("#ReviewPersonInCharge").modal("show");
            });

            $("#btnReviewBusinessInfo").click(function () {
                $.ajax({
                    type: "GET",
                    async: false,
                    dataType: 'json',
                    url: '/Admin/Merchants/GetMerchantPendingChanges/' + @Model.Merchant.Id,
                success: function (response)
                {
                    if (response.successful) {
                        if (response.data != null) {
                            $("#reviewMerchantLogo").attr("src", response.data.logoUrl);
                            $("#reviewMerchantDisplayName").html(response.data.displayName);
                            $("#reviewMerchantBusinessType").html(response.data.businessType);
                            $("#reviewMerchantCountry").html(response.data.countryName);
                            $("#reviewMerchantCompanyName").html(response.data.companyName);
                            $("#reviewMerchantRegistrationNumber").html(response.data.registrationNumber);
                            $("#reviewMerchantCompanyContact").html(response.data.companyContact);
                            $("#reviewMerchantAddress_1").html(response.data.address_1);
                            $("#reviewMerchantAddress_2").html(response.data.address_2);
                            $("#reviewMerchantDistrit").html(response.data.distritName);
                            $("#reviewMerchantProvince").html(response.data.provinceName);
                            $("#reviewMerchantPostcode").html(response.data.postCodeName);
                            $("#reviewMerchantWebsiteSiteUrl").html(response.data.websiteSiteUrl);
                            $("#reviewMerchantWebsiteSiteUrl").attr("href", response.data.websiteSiteUrl);
                            $("#reviewMerchantDescription").html(response.data.description);

                            $("#reviewMerchantStatus").html(response.data.status);
                            $("#reviewMerchantStatusRemarks").html(response.data.remarks);
                            $("#reviewBankAccountStatus").html(response.data.status);

                            if (response.data.bidDocumentUrl) {
                                $("#reviewMerchantDocument").html("View");
                                $("#reviewMerchantDocument").attr("href", response.data.bidDocumentUrl);
                            }
                        }
                    }
                    else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
                $("#ReviewBusinessInfo").modal("show");
            });

            $("#btnReviewBankAccount").click(function () {
                $.ajax({
                    type: "GET",
                    async: false,
                    dataType: 'json',
                    url: '/Admin/Merchants/GetBankAccountPendingChanges/' + @Model.Merchant.Id,
                    success: function (response) {
                        if (response.successful) {
                            if (response.data != null) {

                                $("#reviewBankAccountBank").html(response.data.bank);
                                $("#reviewBankAccountName").html(response.data.name);
                                $("#reviewBankAccountNumber").html(response.data.accountNumber);
                                $("#reviewBankAccountRemarks").html(response.data.remarks);
                                $("#reviewBankAccountStatus").html(response.data.status);
                                if (response.data.documentUrl) {
                                    $("#reviewBankAccountDocument").html("View");
                                    $("#reviewBankAccountDocument").attr("href", response.data.documentUrl);
                                }
                            }
                        }
                        else
                            toastr.error(response.message);
                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });
                $("#ReviewBankAccount").modal("show");
            });

            $("#btnUpdateStatusAndMessage").click(function () {
                $("#updateStatusAndMessageModal").modal("show");
            });

            $('#UpdateBusiness').click(function () {
                var companyLogo = $("#merchantLogo").attr("src");
                var businessdocumentfilename = $("#MerchantDocument").attr("href");
                var companyType = $("#EditCompanyType").val();
                var country = $("#EditCompanyCountry").val();
                var province = $("#EditCompanyProvince").val();
                var district = $("#EditCompanyDistrict").val();
                var postcode = $("#EditCompanyPostcode").val();
                if (companyType == 0) {
                    $("#EditCompanyType").focus();
                    return;
                }
                if (country == 0) {
                    $("#EditCompanyCountry").focus();
                    return;
                }
                if (province == 0) {
                    $("#EditCompanyProvince").focus();
                    return;
                }
                if (district == 0) {
                    $("#EditCompanyDistrict").focus();
                    return;
                }
                if (postcode == 0) {
                    $("#EditCompanyPostcode").focus();
                    return;
                }
                var merchantId = $("#EditBusinessInfo").attr("data-id");
                var logofile = document.getElementById("EditCompanyLogo").files[0];
                if (logofile != null) {
                    var formData = new FormData();
                    formData.append("EditCompanyLogo", logofile);
                    $.ajax({
                        url: "/Admin/Merchants/UploadMerchantLogo/" + merchantId,
                        type: "POST",
                        async: false,
                        data: formData,
                        enctype: 'multipart/form-data',
                        processData: false, // tell jQuery not to process the data
                        contentType: false // tell jQuery not to set contentType
                    }).done(function (response) {
                        if (response.successful) {
                            companyLogo = response.data;
                            toastr.success(response.message);
                            //$("#merchantLogo").attr("src", response.data);
                        }
                        else {
                            toastr.error(response.message);
                        }
                    });
                }

                var businessdocumentfile = document.getElementById("EditCompanyDocument").files[0];
                if (businessdocumentfile != null) {
                    var formData = new FormData();
                    formData.append("BusinessDocument", businessdocumentfile);
                    $.ajax({
                        url: "/Admin/Merchants/UploadMerchantBusinessDocument/" + merchantId,
                        type: "POST",
                        async: false,
                        data: formData,
                        enctype: 'multipart/form-data',
                        processData: false, // tell jQuery not to process the data
                        contentType: false // tell jQuery not to set contentType
                    }).done(function (response) {
                        if (response.successful) {
                            businessdocumentfilename = response.data;
                            toastr.success(response.message);
                        }
                        else {
                            toastr.error(response.message);
                        }

                    });
                }

                var displayname = $("#EditDisplayName").val();
                var companyname = $("#EditCompanyName").val();
                var registrationnumber = $("#EditRegistrationNumber").val();
                var companycontact = $("#EditCompanyContact").val();
                var companywebsite = $("#EditCompanyWebsite").val();
                var address1 = $("#EditAddress_1").val();
                var address2 = $("#EditAddress_2").val();
                var description = EditCompanyDescription.root.innerHTML;

                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    data: {
                        MerchantId: merchantId, CompanyTypeId: companyType, CountryId: country, ProvinceId: province, DistrictId: district, PostcodeId: postcode,
                        DisplayName: displayname, CompanyName: companyname, RegistrationNumber: registrationnumber, CompanyContact: companycontact, CompanyWebsite: companywebsite,
                        Address_1: address1, Address_2: address2, LogoUrl: companyLogo, BIDDocumentUrl: (businessdocumentfilename != undefined ? businessdocumentfilename.split("?")[0] : businessdocumentfilename), Description: description
                    },
                    url: '/Admin/Merchants/UpdateMerchant',
                    success: function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            if (businessdocumentfilename != null && businessdocumentfilename != undefined && businessdocumentfilename != "") {
                                $("#MerchantDocument").html("View");
                                $("#MerchantDocument").attr("href", businessdocumentfilename);
                            }
                            $("#merchantLogo").attr("src", companyLogo);
                            $("#merchantCountry").attr("data-id", country);
                            $("#merchantProvince").attr("data-id", province);
                            $("#merchantDistrit").attr("data-id", district);
                            $("#merchantPostcode").attr("data-id", postcode);
                            $("#merchantCountry").html($("#EditCompanyCountry option:selected").html());
                            $("#merchantProvince").html($("#EditCompanyProvince option:selected").html());
                            $("#merchantDistrit").html($("#EditCompanyDistrict option:selected").html());
                            $("#merchantPostcode").html($("#EditCompanyPostcode option:selected").html());
                            $("#merchantBusinessType").html($("#EditCompanyType option:selected").html());
                            $("#merchantBusinessType").attr("data-id", companyType);
                            $("#merchantDisplayName").html(displayname);
                            $("#merchantCompanyName").html(companyname);
                            $("#merchantRegistrationNumber").html(registrationnumber);
                            $("#merchantAddress_1").html(address1);
                            $("#merchantAddress_2").html(address2);
                            $("#merchantCompanyContact").html(companycontact);
                            $("#merchantWebsiteSiteUrl").html(companywebsite);
                            $('#EditBusinessInfo').modal('hide');
                            location.reload();
                        }
                        else
                            toastr.error(response.message);

                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });
            });

            $('#UpdateBusinessStatus').click(function () {
                var statusId = $("#businessInfoStatus").val();
                var status = $("#businessInfoStatus option:selected").html();
                var remarks = $("#businessStatusRemarks").val();
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    data: {
                    MerchantId: '@Model.Merchant.Id', StatusTypeId: statusId, Remarks: remarks
                    },
                    url: '/Admin/Merchants/UpdateMerchantStatus',
                    success: function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            $("#merchantStatusBadge").attr("data-id", statusId);
                            $("#merchantStatusBadge").html(status);
                            UpdateBadge();
                            $('#ReviewBusinessInfo').modal('hide');
                            if (remarks == "") {
                                remarks = "-";
                            }
                            $("#merchantStatusRemarks").html(remarks);
                            $('#UpdatePersonInChargeStatus').click();
                            $('#UpdateBankAccountStatus').click();
                            //location.reload();
                        }
                        else
                            toastr.error(response.message);


                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });
            });
            $('#UpdatePersonInChargeStatus').click(function () {
                //var statusId = $("#personInChargeStatus").val();
                //var status = $("#personInChargeStatus option:selected").html();
                //var remarks = $("#personInChargeStatusRemarks").val();
                var statusId = $("#businessInfoStatus").val();
                var status = $("#businessInfoStatus option:selected").html();
                var remarks = $("#businessStatusRemarks").val();
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    data: {
                        PersonInChargeId: '@Model.PersonInCharge.Id', StatusTypeId: statusId, Remarks: remarks
                    },
                    url: '/Admin/Merchants/UpdatePersonInChargeStatus/'+@Model.Merchant.Id,
                    success: function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            $("#personInChargeStatusBadge").attr("data-id", statusId);
                            $("#personInChargeStatusBadge").html(status);
                            UpdateBadge();
                            $('#ReviewPersonInCharge').modal('hide');
                            if (remarks == "") {
                                remarks = "-";
                            }
                            $("#personInChargeRemarks").html(remarks);
                            //location.reload();
                        }
                        else
                            toastr.error(response.message);
                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });
            });

            $('#UpdatePersonInCharge').click(function () {
                var personinchargedocumentfilename = $("#personInChargeDocument").attr("href");
                var merchantId = $("#EditBusinessInfo").attr("data-id");
                var personinchargedocumentfile = document.getElementById("editPersonInChargeIentityDocument").files[0];
                if (personinchargedocumentfile != null) {
                    var formData = new FormData();
                    formData.append("Document", personinchargedocumentfile);
                    $.ajax({
                        url: "/Admin/Merchants/UploadMerchantPersonInChargeDocument/" + merchantId,
                        type: "POST",
                        data: formData,
                        async: false,
                        enctype: 'multipart/form-data',
                        processData: false, // tell jQuery not to process the data
                        contentType: false // tell jQuery not to set contentType
                    }).done(function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            personinchargedocumentfilename = response.data;
                        }
                        else {
                            toastr.error(response.message);
                        }
                    });
                }

                var id = $("#EditPersonInCharge").attr("data-id");
                var contact = $("#editPersonInChargeContact").val();
                var postion = $("#editPersonInChargePosition").val();
                var name = $("#editPersonInChargeName").val();
                var identityNumber = $("#editPersonInChargeIdentityNumber").val();

                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    data: {
                        Id: id, Name: name, Contact: contact, Position: postion,
                        IdentityNumber: identityNumber, DocumentUrl: (personinchargedocumentfilename != undefined ? personinchargedocumentfilename.split("?")[0] : personinchargedocumentfilename)
                    },
                    url: '/Admin/Merchants/UpdatePersonInCharge',
                    success: function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            if (personinchargedocumentfilename != null && personinchargedocumentfilename != undefined && personinchargedocumentfilename != "") {
                                $("#personInChargeDocument").html("View");
                                $("#personInChargeDocument").attr("href", personinchargedocumentfilename);
                            }
                            $("#personInChargeName").html(name);
                            $("#personInChargeIdentityNumber").html(identityNumber);
                            $("#personInChargeContact").html(contact);
                            $("#personInChargePosition").html(postion);
                            $('#EditPersonInCharge').modal('hide');
                        }
                        else
                            toastr.error(response.message);

                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });
            });

            $('#UpdateBankAccount').click(function () {
                var bankaccountdocumentfilename = $("#merchantBankAccountDocument").attr("href");
                var merchantId = $("#EditBusinessInfo").attr("data-id");
                var bankaccountdocumentfile = document.getElementById("editBankDocument").files[0];
                if (bankaccountdocumentfile != null) {
                    var formData = new FormData();
                    formData.append("Document", bankaccountdocumentfile);
                    $.ajax({
                        url: "/Admin/Merchants/UploadMerchantBankAccountDocument/" + merchantId,
                        type: "POST",
                        data: formData,
                        async: false,
                        enctype: 'multipart/form-data',
                        processData: false, // tell jQuery not to process the data
                        contentType: false // tell jQuery not to set contentType
                    }).done(function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            bankaccountdocumentfilename = response.data;
                        }
                        else
                            toastr.error(response.message);
                    });
                }

                var id = $("#EditBankAccount").attr("data-id");
                var bankId = $("#editBankTypeSelect option:selected").val();
                var bankName = $("#editBankTypeSelect option:selected").html();
                var accountNumber = $("#editBankAccountNumber").val();
                var name = $("#editBankAccountName").val();
                if (bankId == 0) {
                    $("#editBankTypeSelect").focus();
                    return;
                }

                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    data: {
                        Id: id, BankId: bankId, AccountNumber: accountNumber, Name: name,
                        DocumentUrl: (bankaccountdocumentfilename != undefined ? bankaccountdocumentfilename.split("?")[0] : bankaccountdocumentfilename)
                    },
                    url: '/Admin/Merchants/UpdateBankAccount',
                    success: function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            if (bankaccountdocumentfilename != null && bankaccountdocumentfilename != undefined && bankaccountdocumentfilename != "") {
                                $("#merchantBankAccountDocument").html("View");
                                $("#merchantBankAccountDocument").attr("href", bankaccountdocumentfilename);
                            }
                            $("#bankAccountName").html(name);
                            $("#bankAccountNumber").html(accountNumber);
                            $("#bankAccountBank").attr("data-id", bankId);
                            $("#bankAccountBank").html(bankName);
                            $('#EditBankAccount').modal('hide');
                        }
                        else
                            toastr.error(response.message);

                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });

            });

            $('#UpdateBankAccountStatus').click(function () {
                //var statusId = $("#bankAccountStatus").val();
                //var status = $("#bankAccountStatus option:selected").html();
                //var remarks = $("#bankAccountStatusRemarks").val();
                var statusId = $("#businessInfoStatus").val();
                var status = $("#businessInfoStatus option:selected").html();
                var remarks = $("#businessStatusRemarks").val();
                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    data: {
                    BankAccountId: '@Model.BankAccount.Id', StatusTypeId: statusId, Remarks: remarks
                    },
                    url: '/Admin/Merchants/UpdateBankAccountStatus/'+@Model.Merchant.Id,
                    success: function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            $("#bankAccountStatusBadge").attr("data-id", statusId);
                            $("#bankAccountStatusBadge").html(status);
                            UpdateBadge();
                            $('#ReviewBankAccount').modal('hide');
                            if (remarks == "") {
                                remarks = "-";
                            }
                            $("#bankAccountRemarks").html(remarks);
                            location.reload();
                        }
                        else
                            toastr.error(response.message);
                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });

            });

            $('#EditCompanyDistrict').change(function () {
                GetPostcodeList($(this).val());
                $("#EditCompanyPostcode").selectpicker('refresh');
            });
            $('#EditCompanyProvince').change(function () {
                GetDistrictList($(this).val());
                $("#EditCompanyDistrict").selectpicker('refresh');
                $('#EditCompanyDistrict').change();
            });
            $('#EditCompanyCountry').change(function () {
                GetProvinceList($(this).val());
                $("#EditCompanyProvince").selectpicker('refresh');
                $('#EditCompanyProvince').change();
            });

            $('#EditPersonInCharge').on('show.bs.modal', function () {
                $("#editPersonInChargeName").val($("#personInChargeName").html());
                $("#editPersonInChargeIdentityNumber").val($("#personInChargeIdentityNumber").html());
                $("#editPersonInChargeContact").val($("#personInChargeContact").html());
                $("#editPersonInChargePosition").val($("#personInChargePosition").html());
            });

            $('#EditBankAccount').on('show.bs.modal', function () {
                GetBankList();
                $("#editBankTypeSelect").selectpicker('refresh');
                $("#editBankAccountName").val($("#bankAccountName").html());
                $("#editBankAccountNumber").val($("#bankAccountNumber").html());
                if ($("#bankAccountBank").attr("data-id") == "") {
                    $('#editBankTypeSelect').val(0);
                }
                else
                    $('#editBankTypeSelect').val($("#bankAccountBank").attr("data-id"));
                $("#editBankTypeSelect").selectpicker('refresh');
            });


            $('#EditBusinessInfo').on('show.bs.modal', function () {
                GetCountryList();
                GetBusinessTypeList();
                GetProvinceList($("#merchantCountry").attr("data-id"));
                GetDistrictList($("#merchantProvince").attr("data-id"));
                GetPostcodeList($("#merchantDistrit").attr("data-id"));
                $("#EditCompanyProvince").selectpicker('refresh');
                $("#EditCompanyPostcode").selectpicker('refresh');
                $("#EditCompanyDistrict").selectpicker('refresh');
                $("#EditCompanyCountry").selectpicker('refresh');
                $("#EditCompanyType").selectpicker('refresh');

                $('#EditCompanyCountry').val($("#merchantCountry").attr("data-id"));
                $('#EditCompanyType').val($("#merchantBusinessType").attr("data-id"));
                $('#EditDisplayName').val($("#merchantDisplayName").html());
                $('#EditCompanyName').val($("#merchantCompanyName").html());
                $('#EditRegistrationNumber').val($("#merchantRegistrationNumber").html());
                $('#EditAddress_1').val($("#merchantAddress_1").html());
                $('#EditAddress_2').val($("#merchantAddress_2").html());
                $('#EditCompanyContact').val($("#merchantCompanyContact").html());
                $('#EditCompanyWebsite').val($("#merchantWebsiteSiteUrl").html());
                $('#EditCompanyPostcode').val($("#merchantPostcode").attr("data-id"));
                $('#EditCompanyDistrict').val($("#merchantDistrit").attr("data-id"));
                $('#EditCompanyProvince').val($("#merchantProvince").attr("data-id"));
                $("#EditCompanyProvince").selectpicker('refresh');
                $("#EditCompanyPostcode").selectpicker('refresh');
                $("#EditCompanyDistrict").selectpicker('refresh');
                $("#EditCompanyCountry").selectpicker('refresh');
                $("#EditCompanyType").selectpicker('refresh');

            });
            CheckRequestedReview();

            $('.closed').change(function () {
                if ($(this).filter(':checked').val() == "closed") {
                    if ($(this).attr("data-id") == "0") {
                        var i;
                        for (i = 1; i <= 8; i++) {
                            $("#checkbox_hours_" + i).prop("checked", true);
                            $("#checkbox_hours_" + i).change();
                        }
                    }
                    else {
                        $(this).parent().parent().siblings().css("pointer-events", "none");
                        $(this).parent().parent().siblings().css("opacity", ".5");
                    }
                    //$(this).siblings(1).eq(1).find('input').each(function () {
                    //    $(this).attr('disabled', true).addClass("disabled-day");
                    //});
                } else {
                    if ($(this).attr("data-id") == "0") {
                        var i;
                        for (i = 1; i <= 8; i++) {
                            $("#checkbox_hours_" + i).prop("checked", false);
                            $("#checkbox_hours_" + i).change();
                        }
                    }
                    else {
                        //$("#checkbox_hours_0").prop("checked", true);
                        $(this).parent().parent().siblings().css("pointer-events", "auto");
                        $(this).parent().parent().siblings().css("opacity", "1");
                    }
                    //$(this).siblings(1).eq(1).find('input').each(function () {
                    //    $(this).attr('disabled', false).removeClass("disabled-day");
                    //});
                }
            });
            GetOutletCountryList();
            $('#distritSelect').change(function () {
                GetOutletPostcodeList($(this).val());
                $("#postCodeSelect").selectpicker('refresh');
            });
            $('#provinceSelect').change(function () {

                GetOutletDistrictList($(this).val());
                $("#distritSelect").selectpicker('refresh');
                $('#distritSelect').change();
            });
            $('#countrySelect').change(function () {

                GetOutletProvinceList($(this).val());
                $("#provinceSelect").selectpicker('refresh');
                $('#provinceSelect').change();
            });

            $("#btnCreateNewOutlet").click(function () {
                filesList = [];
                removefilesList = [];
                $("#modalTitle").html("Create New Outlet");
                $("#btnUpdateOutlet").hide();
                $("#btnAddOutlet").show();
                $("#createNewOutletModal").removeAttr("data-id");
                $("#outletName").val("");
                $("#streetName").val("");
                $("#countrySelect").prop("selectedIndex", 0).selectpicker("refresh");
                $("#countrySelect").selectpicker('refresh');
                GetProvinceList(0);
                $("#provinceSelect");
                $("#provinceSelect").selectpicker('refresh');
                GetDistrictList(0);
                $("#distritSelect");
                $("#distritSelect").selectpicker('refresh');
                GetPostcodeList(0);
                $("#postCodeSelect");
                $("#postCodeSelect").selectpicker('refresh');

                $("#address1").val("");
                $("#address2").val("");
                $("#outletContact").val("");
                $("#checkbox_hours_1").prop("checked", false);
                $("#checkbox_hours_2").prop("checked", false);
                $("#checkbox_hours_3").prop("checked", false);
                $("#checkbox_hours_4").prop("checked", false);
                $("#checkbox_hours_5").prop("checked", false);
                $("#checkbox_hours_6").prop("checked", false);
                $("#checkbox_hours_7").prop("checked", false);
                $("#checkbox_hours_8").prop("checked", false);
                $('.from-time').val("10:00 AM");
                $('.end-time').val("10:00 PM");
                $("#imageGallery").html("");
                $("#createOutletForm").find(".field-validation-error").html("");
                $(".opening-hours-validation").html("");
                $("#createNewOutletModal").modal("show");
            });

            $("#btnAddOutlet").click(function (e) {


                e.preventDefault();
                if ($("#createOutletForm").valid()) {
                    if (filesList.length == 0) {
                        toastr.error("Please upload Outlet photo");
                        return;
                    }
                    $('#btnAddOutlet').prop('disabled', true);
                    var merchantId = $("#createNewOutletModal").attr("merchant-id");
                    var name = $("#outletName").val();
                    var streetname = $("#streetName").val();
                    var countryId = $("#countrySelect").val();
                    var districtId = $("#distritSelect").val();
                    var provinceId = $("#provinceSelect").val();
                    var postcodeId = $("#postCodeSelect").val();
                    var address1 = $("#address1").val();
                    var address2 = $("#address2").val();

                    var contact = $("#outletContact").val();
                    var openinghours_1 = "";
                    var openinghours_2 = "";
                    var openinghours_3 = "";
                    var openinghours_4 = "";
                    var openinghours_5 = "";
                    var openinghours_6 = "";
                    var openinghours_7 = "";
                    var openinghours_8 = "";


                    if ($("#checkbox_hours_7").prop("checked") != true) {
                        var start_7 = $("#start_hours_7").val();
                        if (start_7 == "") {
                            $("#start_hours_7").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_7 = $("#end_hours_7").val();
                        if (end_7 == "") {
                            $("#end_hours_7").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_7 = start_7 + " - " + end_7;
                    }

                    if ($("#checkbox_hours_1").prop("checked") != true) {
                        var start_1 = $("#start_hours_1").val();
                        if (start_1 == "") {
                            $("#start_hours_1").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_1 = $("#end_hours_1").val();
                        if (end_1 == "") {
                            $("#end_hours_1").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_1 = start_1 + " - " + end_1;
                    }

                    if ($("#checkbox_hours_2").prop("checked") != true) {
                        var start_2 = $("#start_hours_2").val();
                        if (start_2 == "") {
                            $("#start_hours_2").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_2 = $("#end_hours_2").val();
                        if (end_2 == "") {
                            $("#end_hours_2").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_2 = start_2 + " - " + end_2;
                    }

                    if ($("#checkbox_hours_3").prop("checked") != true) {
                        var start_3 = $("#start_hours_3").val();
                        if (start_3 == "") {
                            $("#start_hours_3").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_3 = $("#end_hours_3").val();
                        if (end_3 == "") {
                            $("#end_hours_3").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_3 = start_3 + " - " + end_3;
                    }

                    if ($("#checkbox_hours_4").prop("checked") != true) {
                        var start_4 = $("#start_hours_4").val();
                        if (start_4 == "") {
                            $("#start_hours_4").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_4 = $("#end_hours_4").val();
                        if (end_4 == "") {
                            $("#end_hours_4").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_4 = start_4 + " - " + end_4;
                    }
                    if ($("#checkbox_hours_5").prop("checked") != true) {
                        var start_5 = $("#start_hours_5").val();
                        if (start_5 == "") {
                            $("#start_hours_5").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_5 = $("#end_hours_5").val();
                        if (end_5 == "") {
                            $("#end_hours_5").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_5 = start_5 + " - " + end_5;
                    }
                    if ($("#checkbox_hours_6").prop("checked") != true) {
                        var start_6 = $("#start_hours_6").val();
                        if (start_6 == "") {
                            $("#start_hours_6").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_6 = $("#end_hours_6").val();
                        if (end_6 == "") {
                            $("#end_hours_6").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_6 = start_6 + " - " + end_6;
                    }
                    if ($("#checkbox_hours_8").prop("checked") != true) {
                        var start_8 = $("#start_hours_8").val();
                        if (start_8 == "") {
                            $("#start_hours_8").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        var end_8 = $("#end_hours_8").val();
                        if (end_8 == "") {
                            $("#end_hours_8").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            toastr.error("Please fill in all boxes");
                            return;
                        }
                        openinghours_8 = start_8 + " - " + end_8;
                    }

                    $.ajax({
                        type: "POST",
                        dataType: 'json',
                        async: false,
                        data: {
                            MerchantId: merchantId, Name: name, StreetName: streetname, Address_1: address1,
                            Address_2: address2, CountryId: countryId, ProvinceId: provinceId, DistrictId: districtId, PostCodeId: postcodeId,
                            Contact: contact, ImgUrl: "", OpeningHour_1: openinghours_1, OpeningHour_2: openinghours_2,
                            OpeningHour_3: openinghours_3, OpeningHour_4: openinghours_4, OpeningHour_5: openinghours_5,
                            OpeningHour_6: openinghours_6, OpeningHour_7: openinghours_7, OpeningHour_8: openinghours_8
                        },
                        url: '/Admin/Merchants/CreateOutlet',
                        success: function (response) {
                            if (response.successful) {
                                toastr.success(response.message);
                                var outletId = response.data;
                                var imagefilesname = "";//$("#imageFolderUrl").attr("src");
                                // Read selected files
                                var imagefiles = document.getElementById("EditImage").files[0];
                                if (filesList.length != 0) {
                                    var formData = new FormData();
                                    var totalfiles = filesList.length;// document.getElementById('EditImage').files.length;
                                    for (var index = 0; index < totalfiles; index++) {

                                        formData.append("files[]", filesList[index]);
                                        // formData.append("files[]", document.getElementById('EditImage').files[index]);
                                    }
                                    $.ajax({
                                        url: "/Admin/Merchants/UploadOutletImages/" + outletId,
                                        type: "POST",
                                        async: false,
                                        data: formData,
                                        enctype: 'multipart/form-data',
                                        processData: false, // tell jQuery not to process the data
                                        contentType: false // tell jQuery not to set contentType
                                    }).done(function (response) {
                                        if (response.successful) {
                                            imagefilesname = response.data;
                                            toastr.success(response.message);
                                        }
                                        else
                                            toastr.error(response.message);
                                    });


                                    $.ajax({
                                        type: "POST",
                                        dataType: 'json',
                                        data: {
                                            Id: outletId, Name: name, StreetName: streetname, Address_1: address1,
                                            Address_2: address2, CountryId: countryId, ProvinceId: provinceId, DistrictId: districtId, PostCodeId: postcodeId,
                                            Contact: contact, ImgUrl: imagefilesname, OpeningHour_1: openinghours_1, OpeningHour_2: openinghours_2,
                                            OpeningHour_3: openinghours_3, OpeningHour_4: openinghours_4, OpeningHour_5: openinghours_5,
                                            OpeningHour_6: openinghours_6, OpeningHour_7: openinghours_7, OpeningHour_8: openinghours_8
                                        },
                                        url: '/Admin/Merchants/UpdateOutlet',
                                        success: function (response) {
                                            if (response.successful)
                                                toastr.success(response.message);
                                            else
                                                toastr.error(response.message);
                                        },
                                        error: function (error) {
                                            toastr.error(error);
                                        }
                                    });
                                }
                                //else {
                                //    toastr.error("Please upload Outlet photo");
                                //    return;
                                //}
                                GetMerchantOutlets(merchantId, "");
                                $("#createNewOutletModal").modal("hide");
                            }
                            else
                                toastr.error(response.message);
                        },
                        error: function (error) {
                            toastr.error(error);
                        }
                    });
                }
                else {
                    toastr.error("Please fill in all boxes");
                }
                $('#btnAddOutlet').prop('disabled', false);
        });
            $("#btnUpdateOutlet").click(function (e) {
                e.preventDefault();
                if ($("#createOutletForm").valid()) {
                    var outletId = $("#createNewOutletModal").attr("data-id");
                    var name = $("#outletName").val();
                    var streetname = $("#streetName").val();
                    var countryId = $("#countrySelect").val();
                    var districtId = $("#distritSelect").val();
                    var provinceId = $("#provinceSelect").val();
                    var postcodeId = $("#postCodeSelect").val();
                    var address1 = $("#address1").val();
                    var address2 = $("#address2").val();

                    var contact = $("#outletContact").val();
                    var openinghours_1 = "";
                    var openinghours_2 = "";
                    var openinghours_3 = "";
                    var openinghours_4 = "";
                    var openinghours_5 = "";
                    var openinghours_6 = "";
                    var openinghours_7 = "";
                    var openinghours_8 = "";

                    if ($("#checkbox_hours_7").prop("checked") != true) {
                        var start_7 = $("#start_hours_7").val();
                        if (start_7 == "") {
                            $("#start_hours_7").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        var end_7 = $("#end_hours_7").val();
                        if (end_7 == "") {
                            $("#end_hours_7").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        openinghours_7 = start_7 + " - " + end_7;
                    }

                    if ($("#checkbox_hours_1").prop("checked") != true) {
                        var start_1 = $("#start_hours_1").val();
                        if (start_1 == "") {
                            $("#start_hours_1").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        var end_1 = $("#end_hours_1").val();
                        if (end_1 == "") {
                            $("#end_hours_1").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        openinghours_1 = start_1 + " - " + end_1;
                    }

                    if ($("#checkbox_hours_2").prop("checked") != true) {
                        var start_2 = $("#start_hours_2").val();
                        if (start_2 == "") {
                            $("#start_hours_2").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        var end_2 = $("#end_hours_2").val();
                        if (end_2 == "") {
                            $("#end_hours_2").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        openinghours_2 = start_2 + " - " + end_2;
                    }

                    if ($("#checkbox_hours_3").prop("checked") != true) {
                        var start_3 = $("#start_hours_3").val();
                        if (start_3 == "") {
                            $("#start_hours_3").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        var end_3 = $("#end_hours_3").val();
                        if (end_3 == "") {
                            $("#end_hours_3").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        openinghours_3 = start_3 + " - " + end_3;
                    }

                    if ($("#checkbox_hours_4").prop("checked") != true) {
                        var start_4 = $("#start_hours_4").val();
                        if (start_4 == "") {
                            $("#start_hours_4").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        var end_4 = $("#end_hours_4").val();
                        if (end_4 == "") {
                            $("#end_hours_4").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        openinghours_4 = start_4 + " - " + end_4;
                    }
                    if ($("#checkbox_hours_5").prop("checked") != true) {
                        var start_5 = $("#start_hours_5").val();
                        if (start_5 == "") {
                            $("#start_hours_5").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        var end_5 = $("#end_hours_5").val();
                        if (end_5 == "") {
                            $("#end_hours_5").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        openinghours_5 = start_5 + " - " + end_5;
                    }
                    if ($("#checkbox_hours_6").prop("checked") != true) {
                        var start_6 = $("#start_hours_6").val();
                        if (start_6 == "") {
                            $("#start_hours_6").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        var end_6 = $("#end_hours_6").val();
                        if (end_6 == "") {
                            $("#end_hours_6").focus();
                            $(".opening-hours-validation").html("Please choose the opening hours");
                            return;
                        }
                        openinghours_6 = start_6 + " - " + end_6;
                    }

                    if ($("#checkbox_hours_8").prop("checked") != true) {
                        var start_8 = $("#start_hours_8").val();
                        if (start_8 == "") {
                            $("#start_hours_8").focus();
                            return;
                        }
                        var end_8 = $("#end_hours_8").val();
                        if (end_8 == "") {
                            $("#end_hours_8").focus();
                            return;
                        }
                        openinghours_8 = start_8 + " - " + end_8;
                    }

                    var imagefilesname = "";//$("#imageFolderUrl").attr("src");

                    // Read selected files
                    var imagefiles = document.getElementById("EditImage").files[0];
                    if (filesList.length != 0) {//imagefiles != null) {
                        var formData = new FormData();
                        var totalfiles = filesList.length;// document.getElementById('EditImage').files.length;
                        for (var index = 0; index < totalfiles; index++) {
                            formData.append("files[]", filesList[index]);
                        }
                        $.ajax({
                            url: "/Admin/Merchants/UploadOutletImages/" + outletId,
                            type: "POST",
                            async: false,
                            data: formData,
                            enctype: 'multipart/form-data',
                            processData: false, // tell jQuery not to process the data
                            contentType: false // tell jQuery not to set contentType
                        }).done(function (response) {
                            if (response.successful) {
                                imagefilesname = response.data;
                                toastr.success(response.message);
                            }
                            else
                                toastr.error(response.message);
                        });
                    }
                    if (removefilesList.length > 0)
                        DeleteOutletImages(outletId);
                    $.ajax({
                        type: "POST",
                        dataType: 'json',
                        data: {
                            Id: outletId, Name: name, StreetName: streetname, Address_1: address1,
                            Address_2: address2, CountryId: countryId, ProvinceId: provinceId, DistrictId: districtId, PostCodeId: postcodeId,
                            Contact: contact, ImgUrl: imagefilesname, OpeningHour_1: openinghours_1, OpeningHour_2: openinghours_2,
                            OpeningHour_3: openinghours_3, OpeningHour_4: openinghours_4, OpeningHour_5: openinghours_5,
                            OpeningHour_6: openinghours_6, OpeningHour_7: openinghours_7, OpeningHour_8: openinghours_8
                        },
                        url: '/Admin/Merchants/UpdateOutlet',
                        success: function (response) {
                            if (response.successful) {
                                toastr.success(response.message);
                                GetMerchantOutlets(merchantId, "");
                                $("#createNewOutletModal").modal("hide");
                            }
                            else
                                toastr.error(response.message);
                        },
                        error: function (error) {
                            toastr.error(error);
                        }
                    });
                }
            });

            $(".btn_apply_all").click(function () {
                startTime = $(this).parent().parent().parent().find(".from-time").val();
                endTime = $(this).parent().parent().parent().find(".end-time").val();
                $(".card-working-hours").each(function () {
                    $(this).find(".from-time").val(startTime);
                    $(this).find(".end-time").val(endTime);
                });
            });

            $("#btnDeleteOutlet").click(function () {
                var outletId = $("#deleteOutletModal").attr("outlet-id");
                $.ajax({
                    type: "POST",
                    async: false,
                    dataType: 'json',
                    data: {
                        OutletId: outletId
                    },
                    url: '/Admin/Merchants/DeleteOutlet',
                    success: function (response) {
                        if (response.successful) {
                            toastr.success(response.message);
                            $("#deleteOutletModal").modal("hide");
                            location.reload();
                        }
                        else
                            toastr.error(response.message);
                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });

            });
        });

        function DeleteOutletImages(outletId) {
            $.ajax({
                url: "/Admin/Merchants/DeleteOutletImages/" + outletId,
                data: { removeFiles: removefilesList },
                type: "POST",
                async: false,
                dataType: 'json',
            }).done(function (response) {
                if (response.successful) {
                    toastr.success(response.message);
                }
                else
                    toastr.error(response.message);
            });

        }
        function GetOutletPostcodeList(districtId) {
            if (districtId == 0) {
                var options = "<option value=''>Choose Postcode</option>";
                $("#postCodeSelect").html(options);
                $("#postCodeSelect").selectpicker('refresh');
                return;
            }
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetPostcodeList/' + districtId,
                success: function (response) {
                    var options = "<option value=''>Choose Postcode</option>";
                    $("#postCodeSelect").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#postCodeSelect").html(options);
                            $("#postCodeSelect").selectpicker('refresh');
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetOutletDistrictList(provinceId) {
            if (provinceId == 0) {
                var options = "<option value=''>Choose District</option>";
                $("#distritSelect").html();
                $("#distritSelect").html(options);
                $("#distritSelect").selectpicker('refresh');
                return;
            }

            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetDistrictList/' + provinceId,
                success: function (response) {
                    var options = "<option value=''>Choose District</option>";
                    $("#distritSelect").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#distritSelect").html(options);
                            $("#distritSelect").selectpicker('refresh');
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetOutletProvinceList(countryId) {
            if (countryId == 0) {
                var options = "<option value='' selected>Choose Province</option>";
                $("#provinceSelect").html();
                $("#provinceSelect").html(options);
                $("#provinceSelect").selectpicker('refresh');
                return;
            }
            $.ajax({
                type: "GET",
                dataType: 'json',
                async: false,
                url: '/Admin/Merchants/GetProvinceList/' + countryId,
                success: function (response) {
                    var options = "<option value=''>Choose Province</option>";
                    $("#provinceSelect").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#provinceSelect").html(options);
                            $("#provinceSelect").selectpicker('refresh');
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetOutletCountryList() {
            $.ajax({
                type: "GET",
                dataType: 'json',
                async: false,
                url: '/Admin/Merchants/GetCountryList',
                success: function (response) {
                    var options = "<option value=''>Choose Country</option>";
                    $("#countrySelect").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#countrySelect").html(options);
                            $("#countrySelect").selectpicker('refresh');
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        function GetMerchantPendingChanges(merchantId) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetMerchantPendingChanges/' + merchantId,
                success: function (response) {
                    if (response.successful) {
                        if (response.data != null) {
                            if (response.data.displayName != $("#merchantDisplayName").html()) {
                                $("#merchantDisplayName2").html(" -> " + response.data.displayName);
                                $("#merchantDisplayName2").show();
                            }
                            if (response.data.businessType != $("#merchantBusinessType").html()) {
                                $("#merchantBusinessType2").html(" -> " + response.data.businessType);
                                $("#merchantBusinessType2").show();
                            }
                            if (response.data.countryName != $("#merchantCountry").html()) {
                                $("#merchantCountry2").html(" -> " + response.data.countryName);
                                $("#merchantCountry2").show();
                            }
                            if (response.data.companyName != $("#merchantCompanyName").html()) {
                                $("#merchantCompanyName2").html(" -> " + response.data.companyName);
                                $("#merchantCompanyName2").show();
                            }
                            if (response.data.registrationNumber != $("#merchantRegistrationNumber").html()) {
                                $("#merchantRegistrationNumber2").html(" -> " + response.data.registrationNumber);
                                $("#merchantRegistrationNumber2").show();
                            }
                            if (response.data.companyContact != $("#merchantCompanyContact").html()) {
                                $("#merchantCompanyContact2").html(" -> " + response.data.companyContact);
                                $("#merchantCompanyContact2").show();
                            }
                            if (response.data.address_1 != $("#merchantAddress_1").html()) {
                                $("#merchantAddress_12").html(" -> " + response.data.address_1);
                                $("#merchantAddress_12").show();
                            }
                            if (response.data.address_2 != $("#merchantAddress_2").html()) {
                                $("#merchantAddress_22").html(" -> " + response.data.address_2);
                                $("#merchantAddress_22").show();
                            }
                            if (response.data.distritName != $("#merchantDistrit").html()) {
                                $("#merchantDistrit2").html(" -> " + response.data.distritName);
                                $("#merchantDistrit2").show();
                            }
                            if (response.data.provinceName != $("#merchantProvince").html()) {
                                $("#merchantProvince2").html(" -> " + response.data.provinceName);
                                $("#merchantProvince2").show();
                            }
                            if (response.data.postCodeName != $("#merchantPostcode").html()) {
                                $("#merchantPostcode2").html(" -> " + response.data.postCodeName);
                                $("#merchantPostcode2").show();
                            }
                            if (response.data.websiteSiteUrl != $("#merchantWebsiteSiteUrl").html().trim()) {
                                $("#merchantWebsiteSiteUrl2").html(" -> " + response.data.websiteSiteUrl);
                                $("#merchantWebsiteSiteUrl2").show();
                            }
                            //$(response.data).each(function (index, item)
                            //{
                            //    options += "<option value="+item.id+">"+item.name+"</option>";
                            //});
                            //$("#EditCompanyPostcode").html(options);
                        }
                    }
                    else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        function GetBankAccountPendingChanges(merchantId) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetBankAccountPendingChanges/' + merchantId,
                success: function (response) {
                    if (response.successful) {
                        if (response.data != null) {
                            if (response.data.bank != $("#bankAccountBank").html()) {
                                $("#bankAccountBank2").html(" -> " + response.data.bank);
                                $("#bankAccountBank2").show();
                            }
                            if (response.data.name != $("#bankAccountName").html()) {
                                $("#bankAccountName2").html(" -> " + response.data.name);
                                $("#bankAccountName2").show();
                            }
                            if (response.data.accountNumber != $("#bankAccountNumber").html()) {
                                $("#bankAccountNumber2").html(" -> " + response.data.accountNumber);
                                $("#bankAccountNumber2").show();
                            }

                        }
                    }
                    else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        function GetPersonInChargePendingChange(merchantId)
    {
        $.ajax({
            type: "GET",
            async: false,
            dataType: 'json',
            url: '/Admin/Merchants/GetPersonInChargePendingChange/' + merchantId,
            success: function (response) {
                if (response.successful) {
                    if (response.data != null) {
                        if (response.data.name != $("#personInChargeName").html()) {
                            $("#personInChargeName2").html(" -> " + response.data.name);
                            $("#personInChargeName2").show();
                        }
                        if (response.data.position != $("#personInChargePosition").html()) {
                            $("#personInChargePosition2").html(" -> " + response.data.position);
                            $("#personInChargePosition2").show();
                        }
                        if (response.data.identityNumber != $("#personInChargeIdentityNumber").html()) {
                            $("#personInChargeIdentityNumber2").html(" -> " + response.data.identityNumber);
                            $("#personInChargeIdentityNumber2").show();
                        }
                        if (response.data.contact != $("#personInChargeContact").html()) {
                            $("#personInChargeContact2").html(" -> " + response.data.contact);
                            $("#personInChargeContact2").show();
                        }

                    }
                }
                else
                    toastr.error(response.message);
            },
            error: function (error) {
                toastr.error(error);
            }
        });
    }

        function GetMerchantOutlets(merchantId) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetMerchantOutlets/' + merchantId,
                success: function (response) {
                    var list = "";
                    $("#dtOutletsBody").html();
                    if (response.successful) {
                        if (response.data != null) {
                            var i = 1;
                            console.log(response.data);
                            $(response.data).each(function (index, item) {
                                var openingHour = "";
                                if (item.openingHour_1 != undefined && item.openingHour_1 != "")
                                    openingHour += "Mon " + item.openingHour_1 + "<br>";
                                if (item.openingHour_2 != undefined && item.openingHour_2 != "")
                                    openingHour += "Tue " + item.openingHour_2 + "<br>";
                                if (item.openingHour_3 != undefined && item.openingHour_3 != "")
                                    openingHour += "Wed " + item.openingHour_3 + "<br>";
                                if (item.openingHour_4 != undefined && item.openingHour_4 != "")
                                    openingHour += "Thu " + item.openingHour_4 + "<br>";
                                if (item.openingHour_5 != undefined && item.openingHour_5 != "")
                                    openingHour += "Fri " + item.openingHour_5 + "<br>";
                                if (item.openingHour_6 != undefined && item.openingHour_6 != "")
                                    openingHour += "Sat " + item.openingHour_6 + "<br>";
                                if (item.openingHour_7 != undefined && item.openingHour_7 != "")
                                    openingHour += "Sun " + item.openingHour_7 + "<br>";
                                if (item.openingHour_8 != undefined && item.openingHour_8 != "")
                                    openingHour += "PH  " + item.openingHour_8 + "<br>";
                                list += "<tr>";
                                list += "<th scope='row'>" + i + "</th>";
                                list += "<td>" + item.name + "</td>";
                                list += "<td>" + item.streetName + "</td>";
                                list += "<td>" + item.district + "</td>";
                                list += "<td>" + item.province + "</td>";
                                list += "<td>" + item.postcode + "</td>";
                                list += "<td>" + item.contact + "</td>";
                                list += "<td>" + openingHour + "</td>";
                                list += "<td>" + item.isActivated + "</td>";
                                list += "<td>" + moment(item.createdAt).format("DD/MM/YYYY") + "</td>";
                                list += "<td><a class='btn-viewOutlet mr-3' data-id='" + item.id + "' href='javascript:return false;'>View</a><a class='btn-deleteOutlet' data-id='" + item.id + "' href='javascript:return false;'>Delete</a></td>";
                                list += "</tr>";


                                // #region For Mobile

                                var template = $(".card-table-row").last().clone();
                                template.find(".outlet-id").html(i);
                                template.find(".outlet-name").html(item.name);
                                template.find(".outlet-street-name").html(item.streetName);
                                template.find(".outlet-district").html(item.district);
                                template.find(".outlet-province").html(item.province);
                                template.find(".outlet-postcode").html(item.postcode);
                                template.find(".outlet-contact").html(item.contact);
                                template.find(".outlet-opening-hours").html(openingHour);
                                template.find(".outlet-isActivated").html(item.isActivated);
                                template.find(".outlet-createdAt").html(moment(item.createdAt).format("DD/MM/YYYY"));

                                template.find(".outlet-action").html("<a class='btn-viewOutlet mr-3' data-id='" + item.id + "' href='javascript:return false;'>View</a><a class='btn-deleteOutlet' data-id='" + item.id + "' href='javascript:return false;'>Delete</a>");
                                if (i > 1) {
                                    $(".outlets-table-card").append("<hr>");
                                }
                                $(".outlets-table-card").append(template);
                                // #endregion





                                i++;
                            });
                            $("#dtOutletsBody").html(list);
                            $('#dtOutlets').DataTable();
                            $(".btn-viewOutlet").click(function () {
                                RetrieveOutlet(this);
                            });
                            $(".btn-deleteOutlet").click(function () {
                                $("#deleteOutletModal").modal("show");
                                $("#deleteOutletModal").attr("outlet-id", $(this).attr("data-id"));
                            });
                        }
                    }
                    else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        function GetPostcodeList(districtId) {
            if (districtId == 0) {
                var options = "<option value='0'>Choose Postcode</option>";
                $("#EditCompanyPostcode").html(options);
                $("#EditCompanyPostcode").selectpicker('refresh');
                return;
            }
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetPostcodeList/' + districtId,
                success: function (response) {
                    var options = "<option value='0'>Choose Postcode</option>";
                    $("#EditCompanyPostcode").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#EditCompanyPostcode").html(options).selectpicker('refresh');
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetDistrictList(provinceId) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetDistrictList/' + provinceId,
                success: function (response) {
                    var options = "<option value='0'>Choose District</option>";
                    $("#EditCompanyDistrict").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#EditCompanyDistrict").html(options);
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetProvinceList(countryId) {
            $.ajax({
                type: "GET",
                dataType: 'json',
                async: false,
                url: '/Admin/Merchants/GetProvinceList/' + countryId,
                success: function (response) {
                    var options = "<option value='0'>Choose Province</option>";
                    $("#EditCompanyProvince").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#EditCompanyProvince").html(options);
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetStatusTypeList() {
            $.ajax({
                type: "GET",
                dataType: 'json',
                async: false,
                url: '/Admin/Merchants/GetStatusTypeList',
                success: function (response) {
                    var options = "";
                    $("#businessInfoStatus").html();
                    $("#personInChargeStatus").html();
                    $("#bankAccountStatus").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                if (item.id == 2)
                                    return true;
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#businessInfoStatus").html(options);
                            $("#personInChargeStatus").html(options);
                            $("#bankAccountStatus").html(options);
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetBusinessTypeList() {
            $.ajax({
                type: "GET",
                dataType: 'json',
                async: false,
                url: '/Admin/Merchants/GetBusinessTypeList',
                success: function (response) {
                    var options = "<option value='0'>Choose Business Type</option>";;
                    $("#EditCompanyType").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#EditCompanyType").html(options);
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function GetCountryList() {
            $.ajax({
                type: "GET",
                dataType: 'json',
                async: false,
                url: '/Admin/Merchants/GetCountryList',
                success: function (response) {
                    var options = "<option value='0'>Choose Country</option>";
                    $("#EditCompanyCountry").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#EditCompanyCountry").html(options);
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        function GetBankList() {
            $.ajax({
                type: "GET",
                dataType: 'json',
                async: false,
                url: '/Admin/Merchants/GetBankList',
                success: function (response) {
                    var options = "<option value='0'>Choose Bank</option>";
                    $("#editBankTypeSelect").html();
                    if (response.successful) {
                        if (response.data != null) {
                            $(response.data).each(function (index, item) {
                                options += "<option value=" + item.id + ">" + item.name + "</option>";
                            });
                            $("#editBankTypeSelect").html(options);
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }
        function UpdateBadge() {
            $("#merchantStatusBadge").removeClass();
            $("#merchantStatusBadge").addClass(GetBadgeClassName($("#merchantStatusBadge").attr("data-id")));
        }

        function GetBadgeClassName(type) {
            if (type == 1) {
                return "badge badge-light";
            }
            if (type == 2) {
                return "badge badge-warning";
            }
            if (type == 3) {
                return "badge badge-revision";
            }
            if (type == 4) {
                return "badge badge-success";
            }
            if (type == 5) {
                return "badge badge-success";
            }
            return "badge badge-danger";
        }

        function CheckRequestedReview() {
            $("#merchantRequestedReviewBadge").hide();
            $("#personInChargeRequestedReviewBadge").hide();
            $("#bankAccountRequestedReviewBadge").hide();
            var merchantId =@Model.Merchant.Id;
            if ($("#merchantStatusBadge").attr("data-id") != 2) {
                $.ajax({
                    type: "GET",
                    async: false,
                    dataType: 'json',
                    url: '/Admin/Merchants/GetMerchantPendingChanges/' + merchantId,
                    success: function (response) {
                        if (response.successful) {
                            if (response.data != null) {
                                if (response.data.statusTypeId == 2) {
                                    $("#merchantRequestedReviewBadge").show();
                                    $("#btnReviewBusinessInfo").show();
                                }
                                else if (response.data.statusTypeId == 1 || response.data.statusTypeId == 3) {
                                    $("#merchantRequestedReviewBadge").removeClass("badge-warning").addClass(GetBadgeClassName(response.data.statusTypeId));
                                    $("#merchantRequestedReviewBadge").html(response.data.status);
                                    $("#merchantRequestedReviewBadge").show();
                                }
                            }
                        } else
                            toastr.error(response.message);
                    },
                    error: function (error) {
                        toastr.error(error);
                    }
                });
            }

        if ($("#personInChargeStatusBadge").attr("data-id") != 2) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetPersonInChargePendingChange/' + merchantId,
                success: function (response) {
                    if (response.successful) {
                        if (response.data != null) {
                            if (response.data.statusTypeId == 2) {
                                $("#personInChargeRequestedReviewBadge").show();
                                $("#btnReviewPersonInCharge").show();
                            }
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        if ($("#bankAccountStatusBadge").attr("data-id") != 2) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetBankAccountPendingChanges/' + merchantId,
                success: function (response) {
                    if (response.successful) {
                        if (response.data != null) {
                            if (response.data.statusTypeId == 2) {
                                $("#bankAccountRequestedReviewBadge").show();
                                $("#btnReviewBankAccount").show();
                            }
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        }

        function RetrieveOutlet(e) {
            var outletId = $(e).attr("data-id");
            filesList = [];
            removefilesList = [];
            $("#modalTitle").html("Edit Outlet");
            $("#btnUpdateOutlet").show();
            $("#btnAddOutlet").hide();
            $("#createNewOutletModal").attr("data-id", outletId);
            $("#outletName").val("");
            $("#streetName").val("");
            $("#countrySelect");
            $("#distritSelect");
            $("#provinceSelect");
            $("#postCodeSelect");
            $("#address1").val("");
            $("#address2").val("");
            $("#outletContact").val("");
            $("#checkbox_hours_1").prop("checked", false);
            $("#checkbox_hours_2").prop("checked", false);
            $("#checkbox_hours_3").prop("checked", false);
            $("#checkbox_hours_4").prop("checked", false);
            $("#checkbox_hours_5").prop("checked", false);
            $("#checkbox_hours_6").prop("checked", false);
            $("#checkbox_hours_7").prop("checked", false);
            $("#checkbox_hours_8").prop("checked", false);
            $('#checkbox_hours_1').bootstrapToggle();
            $('#checkbox_hours_2').bootstrapToggle();
            $('#checkbox_hours_3').bootstrapToggle();
            $('#checkbox_hours_4').bootstrapToggle();
            $('#checkbox_hours_5').bootstrapToggle();
            $('#checkbox_hours_6').bootstrapToggle();
            $('#checkbox_hours_7').bootstrapToggle();
            $('#checkbox_hours_8').bootstrapToggle();
            $("#start_hours_1").val("");
            $("#start_hours_2").val("");
            $("#start_hours_3").val("");
            $("#start_hours_4").val("");
            $("#start_hours_5").val("");
            $("#start_hours_6").val("");
            $("#start_hours_7").val("");
            $("#start_hours_8").val("");
            $("#end_hours_1").val("");
            $("#end_hours_2").val("");
            $("#end_hours_3").val("");
            $("#end_hours_4").val("");
            $("#end_hours_5").val("");
            $("#end_hours_6").val("");
            $("#end_hours_7").val("");
            $("#end_hours_8").val("");
            $("#imageGallery").html("");
            $("#createOutletForm").find(".field-validation-error").html("");
            $(".opening-hours-validation").html("");
            GetOutlet(outletId);
            GetOutletImages(outletId);
            $("#createNewOutletModal").modal("show");
        }


        function GetOutlet(outletId) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetOutlet/' + outletId,
                success: function (response) {
                    if (response.successful) {

                        if (response.data != null) {
                            console.log(response.data);
                            $("#outletName").val(response.data.name);
                            $("#streetName").val(response.data.streetName);
                            $("#countrySelect").val(response.data.countryId);
                            $("#countrySelect").selectpicker('refresh');
                            GetOutletProvinceList(response.data.countryId);
                            $("#provinceSelect").val(response.data.provinceId);
                            $("#provinceSelect").selectpicker('refresh');
                            GetOutletDistrictList(response.data.provinceId);
                            $("#distritSelect").val(response.data.districtId);
                            $("#distritSelect").selectpicker('refresh');
                            GetOutletPostcodeList(response.data.districtId);
                            $("#postCodeSelect").val(response.data.postCodeId);
                            $("#postCodeSelect").selectpicker('refresh');
                            $("#address1").val(response.data.address_1);
                            $("#address2").val(response.data.address_2);
                            $("#outletContact").val(response.data.contact);
                            if (response.data.openingHour_1 == null || response.data.openingHour_1 == "")
                                $("#checkbox_hours_1").prop("checked", true);
                            else {
                                var split = response.data.openingHour_1.split("-");
                                $("#start_hours_1").val(split[0].trim());
                                $("#end_hours_1").val(split[1].trim());
                                $("#checkbox_hours_1").prop("checked", false);
                            }
                            if (response.data.openingHour_2 == null || response.data.openingHour_2 == "")
                                $("#checkbox_hours_2").prop("checked", true);
                            else {
                                var split = response.data.openingHour_2.split("-");
                                $("#start_hours_2").val(split[0].trim());
                                $("#end_hours_2").val(split[1].trim());
                                $("#checkbox_hours_2").prop("checked", false);
                            }
                            if (response.data.openingHour_3 == null || response.data.openingHour_3 == "")
                                $("#checkbox_hours_3").prop("checked", true);
                            else {
                                var split = response.data.openingHour_3.split("-");
                                $("#start_hours_3").val(split[0].trim());
                                $("#end_hours_3").val(split[1].trim());
                                $("#checkbox_hours_3").prop("checked", false);
                            }
                            if (response.data.openingHour_4 == null || response.data.openingHour_4 == "")
                                $("#checkbox_hours_4").prop("checked", true);
                            else {
                                var split = response.data.openingHour_4.split("-");
                                $("#start_hours_4").val(split[0].trim());
                                $("#end_hours_4").val(split[1].trim());
                                $("#checkbox_hours_4").prop("checked", false);
                            }
                            if (response.data.openingHour_5 == null || response.data.openingHour_5 == "")
                                $("#checkbox_hours_5").prop("checked", true);
                            else {
                                var split = response.data.openingHour_5.split("-");
                                $("#start_hours_5").val(split[0].trim());
                                $("#end_hours_5").val(split[1].trim());
                                $("#checkbox_hours_5").prop("checked", false);
                            }

                            if (response.data.openingHour_6 == null || response.data.openingHour_6 == "")
                                $("#checkbox_hours_6").prop("checked", true);
                            else {
                                var split = response.data.openingHour_6.split("-");
                                $("#start_hours_6").val(split[0].trim());
                                $("#end_hours_6").val(split[1].trim());
                                $("#checkbox_hours_6").prop("checked", false);
                            }
                            if (response.data.openingHour_7 == null || response.data.openingHour_7 == "")
                                $("#checkbox_hours_7").prop("checked", true);
                            else {
                                var split = response.data.openingHour_7.split("-");
                                $("#start_hours_7").val(split[0].trim());
                                $("#end_hours_7").val(split[1].trim());
                                $("#checkbox_hours_7").prop("checked", false);
                            }
                            if (response.data.openingHour_8 == null || response.data.openingHour_8 == "")
                                $("#checkbox_hours_8").prop("checked", true);
                            else {
                                var split = response.data.openingHour_8.split("-");
                                $("#start_hours_8").val(split[0].trim());
                                $("#end_hours_8").val(split[1].trim());
                                $("#checkbox_hours_8").prop("checked", false);
                            }
                            $("#checkbox_hours_1").change();
                            $("#checkbox_hours_2").change();
                            $("#checkbox_hours_3").change();
                            $("#checkbox_hours_4").change();
                            $("#checkbox_hours_5").change();
                            $("#checkbox_hours_6").change();
                            $("#checkbox_hours_7").change();
                            $("#checkbox_hours_8").change();
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        function GetOutletImages(outletId) {
            $.ajax({
                type: "GET",
                async: false,
                dataType: 'json',
                url: '/Admin/Merchants/GetOutletImages/' + outletId,
                success: function (response) {
                    if (response.successful) {
                        if (response.data != null) {

                            $(response.data).each(function (index, item) {
                                $($.parseHTML('<span class="product-img-preview-container" index="' + index + '" image-src="' + item + '"><img src="' + item + '" class="product-img-preview"/><br/><span class="remove-img-url">Remove image</span></span>')).appendTo('#imageGallery');
                                SetRemoveImageUrlEvent();
                                filesList.push(new File([""], item));
                            });
                        }
                    } else
                        toastr.error(response.message);
                },
                error: function (error) {
                    toastr.error(error);
                }
            });
        }

        var toolbarOptions = [
            ['bold', 'italic', 'underline'],
            ['link'],
            [{ 'list': 'ordered' }, { 'list': 'bullet' }],
            [{ 'script': 'sub' }, { 'script': 'super' }],
            ['clean']
        ];

        var EditCompanyDescription = new Quill('#edit-company-description', {
            modules: {
                toolbar: toolbarOptions
            },
            placeholder: 'Compose an epic...',
            theme: 'snow'
        });
    </script>

}

